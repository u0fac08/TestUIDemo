var ts=Object.defineProperty;var rs=(e,t,r)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var D=(e,t,r)=>rs(e,typeof t!="symbol"?t+"":t,r);import{r as v,R as P,C as xt,P as tr,c as Ae,m as J,u as Rn,a as Ra,b as Wt,Z as st,d as ot,e as Oa,D as xr,f as Ta,g as Ba,T as ns,I as Yr,l as Lr,h as as,O as Te,A as De,i as is,j as f,k as E,n as St,B as Ut,o as pe,t as ss,p as os,_ as zt,q as T,s as ls,v as ja,w as cs,x as ds,y as Sr,z as us,U as ps,E as hs,F as fs,G as On,H as gs,J as ms,K as vs}from"./index-FYPuBGpU.js";const bs=new URLSearchParams(window.location.search).get("backendPort")||"7878",Ke="http://localhost:"+bs,Mt="px",Hr=["BUTTON","EDIT","CHECKBOX","RADIO_BUTTON","DROPDOWN","LINK","IMAGE","LIST","LIST_ITEM","LABEL","SLIDER","PROGRESS_BAR","TEXTAREA"],Kt={x:0,y:0,width:0,height:0,unit:"px"},qe=(e,t,r)=>Math.min(Math.max(e,t),r),ys=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),Tn=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Ye(e,t,r){return e.unit==="%"?{...Kt,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/r*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/r*100:0}}function Be(e,t,r){return e.unit?e.unit==="px"?{...Kt,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*r/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*r/100:0}:{...Kt,...e,unit:"px"}}function Bn(e,t,r,n,a,i=0,s=0,o=n,l=a){const c={...e};let d=Math.min(i,n),u=Math.min(s,a),p=Math.min(o,n),h=Math.min(l,a);t&&(t>1?(d=s?s*t:d,u=d/t,p=o*t):(u=i?i/t:u,d=u*t,h=l/t)),c.y<0&&(c.height=Math.max(c.height+c.y,u),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,d),c.x=0);const g=n-(c.x+c.width);g<0&&(c.x=Math.min(c.x,n-d),c.width+=g);const m=a-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,a-u),c.height+=m),c.width<d&&((r==="sw"||r=="nw")&&(c.x-=d-c.width),c.width=d),c.height<u&&((r==="nw"||r=="ne")&&(c.y-=u-c.height),c.height=u),c.width>p&&((r==="sw"||r=="nw")&&(c.x-=p-c.width),c.width=p),c.height>h&&((r==="nw"||r=="ne")&&(c.y-=h-c.height),c.height=h),t){const b=c.width/c.height;if(b<t){const y=Math.max(c.width/t,u);(r==="nw"||r=="ne")&&(c.y-=y-c.height),c.height=y}else if(b>t){const y=Math.max(c.height*t,d);(r==="sw"||r=="nw")&&(c.x-=y-c.width),c.width=y}}return c}function Cs(e,t,r,n){const a={...e};return t==="ArrowLeft"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="w"?(a.x-=r,a.width+=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="e"?a.width-=r:n==="se"&&(a.width-=r,a.height-=r):t==="ArrowRight"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="w"?(a.x+=r,a.width-=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="e"?a.width+=r:n==="se"&&(a.width+=r,a.height+=r)),t==="ArrowUp"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="n"?(a.y-=r,a.height+=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="s"?a.height-=r:n==="se"&&(a.width-=r,a.height-=r):t==="ArrowDown"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="n"?(a.y+=r,a.height-=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="s"?a.height+=r:n==="se"&&(a.width+=r,a.height+=r)),a}const Xe={capture:!0,passive:!1};let xs=0;const je=class we extends v.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=v.createRef(),this.mediaRef=v.createRef(),this.initChangeCalled=!1,this.instanceId=`rc-${xs++}`,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=t=>{const{crop:r,disabled:n}=this.props,a=this.getBox();if(!r)return;const i=Be(r,a.width,a.height);if(n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=t.target.dataset.ord,o=!!s;let l=t.clientX,c=t.clientY,d=i.x,u=i.y;if(s){const p=t.clientX-a.x,h=t.clientY-a.y;let g=0,m=0;s==="ne"||s=="e"?(g=p-(i.x+i.width),m=h-i.y,d=i.x,u=i.y+i.height):s==="se"||s==="s"?(g=p-(i.x+i.width),m=h-(i.y+i.height),d=i.x,u=i.y):s==="sw"||s=="w"?(g=p-i.x,m=h-(i.y+i.height),d=i.x+i.width,u=i.y):(s==="nw"||s=="n")&&(g=p-i.x,m=h-i.y,d=i.x+i.width,u=i.y+i.height),l=d+a.x+g,c=u+a.y+m}this.evData={startClientX:l,startClientY:c,startCropX:d,startCropY:u,clientX:t.clientX,clientY:t.clientY,isResize:o,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=t=>{const{crop:r,disabled:n,locked:a,keepSelection:i,onChange:s}=this.props,o=this.getBox();if(n||a||i&&r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=t.clientX-o.x,c=t.clientY-o.y,d={unit:"px",x:l,y:c,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:l,startCropY:c,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(Be(d,o.width,o.height),Ye(d,o.width,o.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=t=>{const{crop:r,disabled:n,onChange:a,onDragStart:i}=this.props,s=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:o}=this;o.clientX=t.clientX,o.clientY=t.clientY;let l;o.isResize?l=this.resizeCrop():l=this.dragCrop(),Tn(r,l)||a(Be(l,s.width,s.height),Ye(l,s.width,s.height))},this.onComponentKeyDown=t=>{const{crop:r,disabled:n,onChange:a,onComplete:i}=this.props;if(n)return;const s=t.key;let o=!1;if(!r)return;const l=this.getBox(),c=this.makePixelCrop(l),d=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?we.nudgeStepLarge:t.shiftKey?we.nudgeStepMedium:we.nudgeStep;if(s==="ArrowLeft"?(c.x-=d,o=!0):s==="ArrowRight"?(c.x+=d,o=!0):s==="ArrowUp"?(c.y-=d,o=!0):s==="ArrowDown"&&(c.y+=d,o=!0),o){t.cancelable&&t.preventDefault(),c.x=qe(c.x,0,l.width-c.width),c.y=qe(c.y,0,l.height-c.height);const u=Be(c,l.width,l.height),p=Ye(c,l.width,l.height);a(u,p),i&&i(u,p)}},this.onHandlerKeyDown=(t,r)=>{const{aspect:n=0,crop:a,disabled:i,minWidth:s=0,minHeight:o=0,maxWidth:l,maxHeight:c,onChange:d,onComplete:u}=this.props,p=this.getBox();if(i||!a)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?we.nudgeStepLarge:t.shiftKey?we.nudgeStepMedium:we.nudgeStep,g=Be(a,p.width,p.height),m=Cs(g,t.key,h,r),b=Bn(m,n,r,p.width,p.height,s,o,l,c);if(!Tn(a,b)){const y=Ye(b,p.width,p.height);d(b,y),u&&u(b,y)}},this.onDocPointerDone=t=>{const{crop:r,disabled:n,onComplete:a,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),a&&a(Be(r,s.width,s.height),Ye(r,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)}}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:a,height:i}=t.getBoundingClientRect();return{x:r,y:n,width:a,height:i}}componentDidUpdate(t){const{crop:r,onComplete:n}=this.props;if(n&&!t.crop&&r){const{width:a,height:i}=this.getBox();a&&i&&n(Be(r,a,i),Ye(r,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Xe),this.document.addEventListener("pointerup",this.onDocPointerDone,Xe),this.document.addEventListener("pointercancel",this.onDocPointerDone,Xe),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Xe),this.document.removeEventListener("pointerup",this.onDocPointerDone,Xe),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Xe),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,r=this.getBox(),n=this.makePixelCrop(r),a=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return n.x=qe(t.startCropX+a,0,r.width-n.width),n.y=qe(t.startCropY+i,0,r.height-n.height),n}getPointRegion(t,r,n,a){const{evData:i}=this,s=i.clientX-t.x,o=i.clientY-t.y;let l;a&&r?l=r==="nw"||r==="n"||r==="ne":l=o<i.startCropY;let c;return n&&r?c=r==="nw"||r==="w"||r==="sw":c=s<i.startCropX,c?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(t,r,n=0,a=0){const i=Math.min(n,t.width),s=Math.min(a,t.height);return!r||!i&&!s?[i,s]:r>1?i?[i,i/r]:[s*r,s]:s?[s*r,s]:[i,i/r]}resizeCrop(){const{evData:t}=this,{aspect:r=0,maxWidth:n,maxHeight:a}=this.props,i=this.getBox(),[s,o]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(i);const c=this.getPointRegion(i,t.ord,s,o),d=t.ord||c;let u=t.clientX-t.startClientX,p=t.clientY-t.startClientY;(s&&d==="nw"||d==="w"||d==="sw")&&(u=Math.min(u,-s)),(o&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-o));const h={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(h.x=t.startCropX,h.width=u,r?(h.height=h.width/r,h.y=t.startCropY-h.height):(h.height=Math.abs(p),h.y=t.startCropY-h.height)):c==="se"?(h.x=t.startCropX,h.y=t.startCropY,h.width=u,r?h.height=h.width/r:h.height=p):c==="sw"?(h.x=t.startCropX+u,h.y=t.startCropY,h.width=Math.abs(u),r?h.height=h.width/r:h.height=p):c==="nw"&&(h.x=t.startCropX+u,h.width=Math.abs(u),r?(h.height=h.width/r,h.y=t.startCropY-h.height):(h.height=Math.abs(p),h.y=t.startCropY+p));const g=Bn(h,r,c,i.width,i.height,s,o,n,a);return r||we.xyOrds.indexOf(d)>-1?l=g:we.xOrds.indexOf(d)>-1?(l.x=g.x,l.width=g.width):we.yOrds.indexOf(d)>-1&&(l.y=g.y,l.height=g.height),l.x=qe(l.x,0,i.width-l.width),l.y=qe(l.y,0,i.height-l.height),l}renderCropSelection(){const{ariaLabels:t=we.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:i,crop:s}=this.props,o=this.getCropStyle();if(s)return P.createElement("div",{style:o,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&P.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},P.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),P.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),P.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),P.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),P.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),a&&P.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:l=>l.stopPropagation()},a(this.state)),i&&P.createElement(P.Fragment,null,P.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),P.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const r={...Kt,...this.props.crop||{}};return Be(r,t.width,t.height)}render(){const{aspect:t,children:r,circularCrop:n,className:a,crop:i,disabled:s,locked:o,style:l,ruleOfThirds:c}=this.props,{cropIsActive:d,newCropIsBeingDrawn:u}=this.state,p=i?this.renderCropSelection():null,h=ys("ReactCrop",a,d&&"ReactCrop--active",s&&"ReactCrop--disabled",o&&"ReactCrop--locked",u&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return P.createElement("div",{ref:this.componentRef,className:h,style:l},P.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?P.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},P.createElement("defs",null,P.createElement("mask",{id:`hole-${this.instanceId}`},P.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?P.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):P.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),P.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};je.xOrds=["e","w"],je.yOrds=["n","s"],je.xyOrds=["nw","ne","se","sw"],je.nudgeStep=1,je.nudgeStepMedium=10,je.nudgeStepLarge=100,je.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let Ss=je;class Is{constructor(t){this.sessionId=t,this.name=null,this.startx=0,this.starty=0,this.endx=0,this.endy=0,this.startTime=0,this.buttonPressed=!1}setStartPosition(t,r){this.startx=t,this.starty=r}setEndPosition(t,r){this.endx=t,this.endy=r}buildActionArgs(){var t={x:this.startx,y:this.starty,selection:this.selection};return JSON.stringify(t)}}class ws{constructor(t){this.action=new Is(t),this.zoomFactor=1}handleEvent(t,r){if(t.button!==0)return null;this.action.name=null,this.zoomFactor=r.naturalHeight/r.clientHeight;let n=r.getBoundingClientRect(),a=Math.round((t.clientX-n.left)*this.zoomFactor),i=Math.round((t.clientY-n.top)*this.zoomFactor);return console.log(a,i),this.action.setStartPosition(a,i),this.action.name="click",this.action.name===null?null:this.action}}var kt=xt.extend({defaultProps:{__TYPE:"ProgressBar",id:null,value:null,showValue:!0,unit:"%",style:null,className:null,mode:"determinate",displayValueTemplate:null,color:null,children:void 0}}),Xr=v.memo(v.forwardRef(function(e,t){var r=v.useContext(tr),n=kt.getProps(e,r),a=kt.setMetaData({props:n}),i=a.ptm,s=v.useRef(null),o=function(){if(n.showValue&&n.value!=null){var u=n.displayValueTemplate?n.displayValueTemplate(n.value):n.value+n.unit;return u}return null},l=function(){var u=Ae("p-progressbar p-component p-progressbar-determinate",n.className),p=o(),h=J({id:n.id,ref:s,className:u,style:n.style,role:"progressbar","aria-valuemin":"0","aria-valuenow":n.value,"aria-valuemax":"100"},kt.getOtherProps(n),i("root")),g=J({className:"p-progressbar-value p-progressbar-value-animate",style:{width:n.value+"%",display:"flex",backgroundColor:n.color}},i("value")),m=J({className:"p-progressbar-label"},i("label"));return v.createElement("div",h,v.createElement("div",g,n.value!=null&&n.value!==0&&n.showValue&&v.createElement("div",m,p)))},c=function(){var u=Ae("p-progressbar p-component p-progressbar-indeterminate",n.className),p=J({id:n.id,ref:s,className:u,style:n.style,role:"progressbar"},kt.getOtherProps(n),i("root")),h=J({className:"p-progressbar-indeterminate-container"},i("indeterminateContainer")),g=J({className:"p-progressbar-value p-progressbar-value-animate",style:{backgroundColor:n.color}},i("value"));return v.createElement("div",p,v.createElement("div",h,v.createElement("div",g)))};if(v.useImperativeHandle(t,function(){return{props:n,getElement:function(){return s.current}}}),n.mode==="determinate")return l();if(n.mode==="indeterminate")return c();throw new Error(n.mode+" is not a valid mode for the ProgressBar. Valid values are 'determinate' and 'indeterminate'")}));Xr.displayName="ProgressBar";function ht(e){"@babel/helpers - typeof";return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(e)}function Ds(e,t){if(ht(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ht(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function As(e){var t=Ds(e,"string");return ht(t)==="symbol"?t:String(t)}function Es(e,t,r){return t=As(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ps(e){if(Array.isArray(e))return e}function Ns(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function jn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rs(e,t){if(e){if(typeof e=="string")return jn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jn(e,t)}}function Os(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(e,t){return Ps(e)||Ns(e,t)||Rs(e,t)||Os()}var Ir=xt.extend({defaultProps:{__TYPE:"Sidebar",id:null,style:null,className:null,maskStyle:null,maskClassName:null,visible:!1,position:"left",fullScreen:!1,blockScroll:!1,baseZIndex:0,dismissable:!0,showCloseIcon:!0,closeIcon:null,ariaCloseLabel:null,closeOnEscape:!0,icons:null,modal:!0,appendTo:null,transitionOptions:null,onShow:null,onHide:null,children:void 0}});function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mn(Object(r),!0).forEach(function(n){Es(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Jr=v.forwardRef(function(e,t){var r=v.useContext(tr),n=Ir.getProps(e,r),a=v.useState(!1),i=Ft(a,2),s=i[0],o=i[1],l=v.useState(!1),c=Ft(l,2),d=c[0],u=c[1],p=Ir.setMetaData({props:n,state:{containerVisible:s}}),h=p.ptm,g=v.useRef(null),m=v.useRef(null),b=v.useRef(null),y=Rn({type:"keydown",listener:function($){$.key==="Escape"&&st.get(m.current)===st.getCurrent("modal",r&&r.autoZIndex||ot.autoZIndex)&&H($)}}),x=Ft(y,2),C=x[0],S=x[1],N=Rn({type:"click",listener:function($){$.button===0&&j($)&&H($)}}),R=Ft(N,2),k=R[0],L=R[1],j=function($){return g&&g.current&&!g.current.contains($.target)},W=function(){var $=["left","right","top","bottom"],Q=$.find(function(ce){return ce===n.position});return Q?"p-sidebar-".concat(Q):""},M=function(){var $=document.activeElement,Q=$&&g&&g.current.contains($);!Q&&n.showCloseIcon&&b.current.focus()},te=function($){n.dismissable&&n.modal&&m.current===$.target&&H($)},H=function($){n.onHide(),$.preventDefault()},I=function(){n.onShow&&n.onShow(),M(),V()},B=function(){n.modal&&xr.addClass(m.current,"p-component-overlay-leave")},F=function(){st.clear(m.current),o(!1),z()},V=function(){n.closeOnEscape&&C(),n.dismissable&&!n.modal&&k(),n.blockScroll&&xr.addClass(document.body,"p-overflow-hidden")},z=function(){S(),L(),n.blockScroll&&xr.removeClass(document.body,"p-overflow-hidden")};v.useImperativeHandle(t,function(){return{props:n,getElement:function(){return g.current},gteMask:function(){return m.current},getCloseIcon:function(){return b.current}}}),Ra(function(){n.visible&&o(!0)}),Wt(function(){n.visible&&!s&&o(!0),n.visible!==d&&s&&u(n.visible)}),Wt(function(){s&&(st.set("modal",m.current,r&&r.autoZIndex||ot.autoZIndex,n.baseZIndex||r&&r.zIndex.modal||ot.zIndex.modal),u(!0))},[s]),Wt(function(){d&&(L(),n.dismissable&&!n.modal&&k())},[n.dismissable,n.modal,d]),Oa(function(){z(),m.current&&st.clear(m.current)});var Z=function(){var $="p-sidebar-close-icon",Q=J({type:"button",ref:b,className:"p-sidebar-close p-sidebar-icon p-link",onClick:function(Ne){return H(Ne)},"aria-label":Ie},h("closeButton")),ce=J({className:$},h("closeIcon")),be=n.closeIcon||v.createElement(ns,ce),ye=Yr.getJSXIcon(be,Ts({},ce),{props:n}),Ie=n.ariaCloseLabel||Lr("close");return n.showCloseIcon?v.createElement("button",Q,ye,v.createElement(as,null)):null},Y=function(){return n.icons?Te.getJSXElement(n.icons,n):null},ee=function(){var $=Ae("p-sidebar p-component",n.className,{"p-input-filled":r&&r.inputStyle==="filled"||ot.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||ot.ripple===!1}),Q=Ae("p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":n.modal,"p-sidebar-mask-scrollblocker":n.blockScroll,"p-sidebar-visible":s,"p-sidebar-full":n.fullScreen},W(),n.maskClassName),ce=Z(),be=Y(),ye={enter:n.fullScreen?150:300,exit:n.fullScreen?150:300},Ie=J({ref:m,style:n.maskStyle,className:Q,onMouseDown:function(A){return te(A)}},h("mask")),he=J({id:n.id,ref:g,className:$,style:n.style,role:"complementary"},Ir.getOtherProps(n),h("root")),Ne=J({className:"p-sidebar-header"},h("header")),Re=J({className:"p-sidebar-content"},h("content"));return v.createElement("div",Ie,v.createElement(Ba,{nodeRef:g,classNames:"p-sidebar",in:d,timeout:ye,options:n.transitionOptions,unmountOnExit:!0,onEntered:I,onExiting:B,onExited:F},v.createElement("div",he,v.createElement("div",Ne,be,ce),v.createElement("div",Re,n.children))))},_=function(){var $=ee();return v.createElement(Ta,{element:$,appendTo:n.appendTo,visible:!0})};return s&&_()});Jr.displayName="Sidebar";const Bs=e=>{const[t,r]=v.useState(null),[n,a]=v.useState({aspect:16/9}),[i,s]=v.useState(!1),[o,l]=v.useState(e.controlname),[c,d]=v.useState(e.content),[u,p]=v.useState(null),[h,g]=v.useState(),[m,b]=v.useState(),[y,x]=v.useState(),[C,S]=v.useState(),[N,R]=v.useState(!1),[k,L]=v.useState(!0),[j,W]=v.useState(!1),M=v.useRef(null),te=v.useRef(null),H=new ws("01"),I=navigator.userAgent.toLowerCase().includes("firefox"),[B,F]=v.useState(!1),[V,z]=v.useState(null);v.useEffect(()=>{Z(),F(!!I)},[e.selection]),v.useEffect(()=>{W(!0),e.onHoverControlCoordinates.x===0&&e.onHoverControlCoordinates.y===0&&e.onHoverControlCoordinates.w===0&&e.onHoverControlCoordinates.h===0&&W(!1)},[e.onHoverControlCoordinates]),v.useEffect(()=>{e.selectRegionFrom.add||e.selectRegionFrom.highlight||e.selectRegionFrom.reverseHighlight},[n]),v.useEffect(()=>{setTimeout(()=>{z(e.minimizeThumbnails)},1e3)},[e.minimizeThumbnails]);const Z=()=>{if(typeof e.selection<"u"){const A=De+"/application/"+e.appId+"/images/"+e.selection+"/screenshot";is(A).then(q=>{if(q.data){let re="data:image/png;base64,"+q.data;r(re)}}).catch(function(q){console.log(q)})}},Y=(A,q)=>{e.controlSteps.map(ne=>{A.startx>=ne.bounds.x&&A.starty>=ne.bounds.y&&A.startx<=ne.bounds.x+ne.bounds.w&&A.starty<=ne.bounds.y+ne.bounds.h&&(e.clearAllControls(),q.ctrlKey?(e.onControlSelect(ne,!1),e.updateParentControlState(ne,!1)):(e.onControlSelect(ne,!0),e.updateParentControlState(ne,!0)))})},ee=A=>{let q=H.handleEvent(A,M.current);q!==null&&(q.selection=e.selection,Y(q,A))},_=A=>{if(M.current===null)return{};let q=M.current.naturalHeight/M.current.clientHeight,re={};var ne=parseFloat(A.x),ze=parseFloat(A.y),Oe=parseFloat(A.w),$e=parseFloat(A.h);return re.width=Oe/q+Mt,re.height=$e/q+Mt,re.left=ne/q+Mt,re.top=ze/q+Mt,delete re.right,delete re.bottom,re};if(e.isImgProcessing===!0)return f.jsxs("div",{className:"prorgressbar",children:[f.jsx("h3",{children:E.t("device-viewer.loader")}),f.jsx(Xr,{mode:"indeterminate",style:{height:"6px"}})]});let U=!0;e.selectedControlCoordinatesArr.length===0&&(U=!1);const $=A=>{const q=document.createElement("canvas");let re=M.current.naturalHeight/M.current.clientHeight;var ne=parseFloat(A.x)*re,ze=parseFloat(A.y)*re,Oe=parseFloat(A.width)*re,$e=parseFloat(A.height)*re;q.width=A.width,q.height=A.height;const Nn=q.getContext("2d"),jt=window.devicePixelRatio;q.width=A.width*jt,q.height=A.height*jt,Nn.setTransform(jt,0,0,jt,0,0),Nn.imageSmoothingQuality="high",g(ne),b(ze),x(Oe),S($e)},Q=()=>{a(void 0),e.setEnableCrop(!1)},ce=()=>{let A=e.controlSteps,q={type:o,content:c,confidence:"100.0",category:u,bounds:{x:Math.round(h),y:Math.round(m),w:Math.round(y),h:Math.round(C)}};A.map((ne,ze)=>{delete ne.isChecked}),A.push(q),e.setControlSteps(A);const re=De+"/application/"+e.appId+"/images/"+e.selection+"/labels";pe.put(re,A,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then(ne=>{te.current.show({severity:"info",summary:E.t("device-toolbar.confirmed"),detail:E.t("device-viewer.control-create-success-msg"),life:3e3}),e.refreshControlLabels(),Ue(),e.clearAllControls(),s(!1),Q()})},be=A=>{A.preventDefault(),ce()},ye=A=>{l(A.target.value),p(Hr.indexOf(A.target.value))},Ie=A=>{d(A.target.value)},he=()=>{let A={add:!1,highlight:!0,reverseHighlight:!1};e.setRegionFrom(A),e.setEnableCrop(!0)},Ne=()=>{let A={add:!1,highlight:!1,reverseHighlight:!0};e.setRegionFrom(A),e.setEnableCrop(!0)},Re=()=>{let A={add:!1,highlight:!1,reverseHighlight:!1};e.setRegionFrom(A),s(!1),e.setEnableCrop(!1),a(void 0),e.setDragComplete(!1)},Ue=()=>{d(null),p(null),g(null),b(null),S(null),x(null)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"highlight-items",children:[f.jsx("div",{className:"item",children:f.jsx("a",{href:"#",className:"highlight",title:"Highlight controls",onClick:()=>he(),children:f.jsx("i",{className:"pi pi-eye"})})}),f.jsx("div",{className:"item",children:f.jsx("a",{href:"#",className:"highlight-reverse",title:"Highlight reverse controls",onClick:()=>Ne(),children:f.jsx("i",{className:"pi pi-arrow-right-arrow-left"})})}),f.jsx("div",{className:"item",children:f.jsx("a",{href:"#",className:"Cancel",title:"Cancel selection",onClick:Re,children:f.jsx("i",{className:"pi pi-times-circle"})})})]}),f.jsx("div",{className:`viewer-section ${e.minimizeThumbnails?"thumbnailsHide":"thumbnailsShow"}`,children:f.jsxs("div",{className:`dv ${B?"dv-moz":"dv-chrome"}`,children:[f.jsxs("div",{className:"dv-content",children:[e.selection&&t&&f.jsx(f.Fragment,{children:e.addControl?f.jsx("center",{children:!!t&&f.jsx(f.Fragment,{children:f.jsx(Ss,{crop:n,onChange:A=>{$(A),a(A)},onComplete:()=>s(!0),children:f.jsx("img",{ref:M,src:t,draggable:"false",alt:"viewer image"})})})}):f.jsx(f.Fragment,{children:!!t&&f.jsx(f.Fragment,{children:f.jsx("img",{ref:M,src:t,draggable:"false",onMouseDown:A=>{ee(A)},alt:"viewer image"})})})}),U&&e.selectedControlCoordinatesArr.map(A=>f.jsx("div",{className:`dv-selected-control ${V?"active":""}`,style:_(A)},Math.random())),j&&f.jsx("div",{className:"dv-selected-control-hover",style:_(e.onHoverControlCoordinates)},Math.random()),e.hotSpotControl&&f.jsxs("div",{children:[f.jsx("div",{className:"circles",style:_(e.hotSpotControl.bounds),children:f.jsx("div",{className:"circle1"})}),f.jsx("div",{className:"hotSpot-control",style:_(e.hotSpotControl.bounds)},Math.random())]})]}),f.jsx(St,{ref:te}),f.jsx(Jr,{visible:i,position:"right",onHide:()=>Re(),children:f.jsx("div",{className:"cd-container",children:f.jsxs("form",{className:"form",onSubmit:be,children:[f.jsxs("div",{className:"control-type d-flex",children:[f.jsxs("label",{className:"l-controlname",children:[E.t("device-viewer.type")," "]}),f.jsxs("select",{className:"controlname-input",onChange:A=>{ye(A),L(!1)},children:[f.jsx("option",{name:"",value:0,children:E.t("device-viewer.select-control")}),Hr.map((A,q)=>f.jsx("option",{value:A,children:A},q))]})]}),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"control-content d-flex",children:[f.jsxs("label",{className:"l-content",children:[E.t("device-viewer.content")," "]}),f.jsx("input",{type:"text",label:"Control Content",className:"content-input",onChange:A=>{Ie(A)},value:c})]}),f.jsx("div",{className:"moreLink",onClick:()=>R(!N),children:N?"show less":"show more"})]}),N&&f.jsxs("div",{className:"moreSection",children:[f.jsxs("div",{className:"d-flex coordinates",children:[f.jsxs("label",{className:"l-content",children:[E.t("device-viewer.bounds")," "]}),f.jsx("label",{className:"l-x",children:" X "}),f.jsx("input",{type:"text",className:"x-input",value:Math.round(h),onChange:A=>g(A.target.value)}),f.jsx("label",{className:"l-y",children:" Y "}),f.jsx("input",{type:"text",className:"y-input",value:Math.round(m),onChange:A=>b(A.target.value)})]}),f.jsxs("div",{className:"d-flex coordinates",children:[f.jsxs("label",{className:"l-content",style:{visibility:"hidden"},children:["Bounds"," "]}),f.jsx("label",{className:"l-w",children:" W "}),f.jsx("input",{type:"text",className:"w-input",value:Math.round(y),onChange:A=>x(A.target.value)}),f.jsx("label",{className:"l-h",children:" H "}),f.jsx("input",{type:"text",className:"h-input",value:Math.round(C),onChange:A=>S(A.target.value)})]})]}),f.jsx(Ut,{icon:"pi pi-check",type:"submit",className:"p-button-raised p-button-rounded save",label:E.t("device-viewer.save"),disabled:k})]})})})]})})]})};class js extends P.Component{render(){return P.createElement("div",{draggable:!0,onDragStart:this.props.dragStart,onDragEnter:this.props.dragEnter,onDragEnd:this.props.dragEnd,className:"grabbable"},this.props.children)}}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ms extends v.Component{constructor(...t){super(...t),Je(this,"state",{divs:[],currentDiv:null,toDiv:null}),Je(this,"componentDidMount",()=>{this.setState({divs:this.props.children})}),Je(this,"insertElementBefore",()=>{var s;let r=[...this.state.divs],n=this.state.currentDiv,a=this.state.toDiv,i;n!==a&&(i={...r[n]},r=r.filter((o,l)=>l!==n),r.splice(a,0,i),this.setState({divs:[],currentDiv:null,toDiv:null},()=>{this.setState({divs:r})})),(s=this.props)!=null&&s.onPosChange&&this.props.onPosChange(n,a,i)}),Je(this,"dragStart",r=>{this.setState({currentDiv:r})}),Je(this,"dragEnter",r=>{this.setState({toDiv:r})}),Je(this,"dragDrop",()=>{this.insertElementBefore()})}render(){let t=[];for(let r=0;r<this.state.divs.length;r++)t.push(P.createElement(js,{dragStart:()=>this.dragStart(r),dragEnter:()=>this.dragEnter(r),dragEnd:this.dragDrop,key:r},this.state.divs[r]));return P.createElement(P.Fragment,null,t)}}const _r=P.createContext(()=>{}),ks=e=>{v.useEffect(()=>{let r=document.getElementById(e.selection);r!==null&&r.classList.add("selected")},[e.presentImageIndex]);const t=(r,n)=>{let a={source:{index:0},destination:{index:0}};a.source.index=r,a.destination.index=n,e.handleOnDragEnd(a,e.ids)};return f.jsx(_r.Consumer,{children:r=>f.jsx(f.Fragment,{children:f.jsx("div",{className:`design-tb-content ${e.isExpandView?"expand-view":""}`,children:f.jsx(Ms,{onPosChange:t,children:e.thumbnailImages.map((n,a)=>{let i=Object.values(n)[0],s=Object.keys(n)[0];const o=e.selection===s?"selected":"";return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`${o} selectedImage`,onClick:l=>e.onImgClick(l,s,a),tabIndex:"0",onKeyDown:l=>e.onKeyPressForAccessible(l),id:`image_${a}`,children:[f.jsx("img",{id:s,className:`thumbnail ${o}`,alt:"thumbnail image",src:`data:image/png;base64,${i}`}),!n.isDisabled&&f.jsx("div",{id:"overlay",children:f.jsx("button",{type:"button",className:"disableThumnailImg",onClick:()=>r.handleDisableThumbnails(s),"aria-label":"disable image",title:E.t("device-toolbar.disable-image"),children:f.jsx("i",{className:"pi pi-ban",style:{fontSize:"12px"}})})}),n.isDisabled&&f.jsx("div",{className:"restoreOverlay",children:f.jsxs("button",{type:"button",className:"restoreImage",onClick:()=>r.handleEnableThumbnails(s),children:[f.jsx("i",{className:"pi pi-undo",style:{fontSize:"12px"}})," ",E.t("device-toolbar.enable")]})})]},a),f.jsx("div",{className:"imageName",title:n.name,children:n.name})]})})},Math.random())})})})};function Fs(e,t,r){return(t=ss(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kn(Object(r),!0).forEach(function(n){Fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ue(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ln=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wr=function(){return Math.random().toString(36).substring(7).split("").join(".")},Hn={INIT:"@@redux/INIT"+wr(),REPLACE:"@@redux/REPLACE"+wr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wr()}};function Ls(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ma(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ue(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ue(1));return r(Ma)(e,t)}if(typeof e!="function")throw new Error(ue(2));var a=e,i=t,s=[],o=s,l=!1;function c(){o===s&&(o=s.slice())}function d(){if(l)throw new Error(ue(3));return i}function u(m){if(typeof m!="function")throw new Error(ue(4));if(l)throw new Error(ue(5));var b=!0;return c(),o.push(m),function(){if(b){if(l)throw new Error(ue(6));b=!1,c();var x=o.indexOf(m);o.splice(x,1),s=null}}}function p(m){if(!Ls(m))throw new Error(ue(7));if(typeof m.type>"u")throw new Error(ue(8));if(l)throw new Error(ue(9));try{l=!0,i=a(i,m)}finally{l=!1}for(var b=s=o,y=0;y<b.length;y++){var x=b[y];x()}return m}function h(m){if(typeof m!="function")throw new Error(ue(10));a=m,p({type:Hn.REPLACE})}function g(){var m,b=u;return m={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(ue(11));function C(){x.next&&x.next(d())}C();var S=b(C);return{unsubscribe:S}}},m[Ln]=function(){return this},m}return p({type:Hn.INIT}),n={dispatch:p,subscribe:u,getState:d,replaceReducer:h},n[Ln]=g,n}function $n(e,t){return function(){return t(e.apply(this,arguments))}}function Gn(e,t){if(typeof e=="function")return $n(e,t);if(typeof e!="object"||e===null)throw new Error(ue(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=$n(a,t))}return r}function ka(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function Hs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(ue(15))},s={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map(function(l){return l(s)});return i=ka.apply(void 0,o)(a.dispatch),Fn(Fn({},a),{},{dispatch:i})}}}var Fa=P.createContext(null);function $s(e){e()}var La=$s,Gs=function(t){return La=t},Ws=function(){return La};function Vs(){var e=Ws(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,s=r={callback:a,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var Wn={notify:function(){},get:function(){return[]}};function Ha(e,t){var r,n=Wn;function a(u){return l(),n.subscribe(u)}function i(){n.notify()}function s(){d.onStateChange&&d.onStateChange()}function o(){return!!r}function l(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=Vs())}function c(){r&&(r(),r=void 0,n.clear(),n=Wn)}var d={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:s,isSubscribed:o,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return n}};return d}var $a=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function Us(e){var t=e.store,r=e.context,n=e.children,a=v.useMemo(function(){var o=Ha(t);return{store:t,subscription:o}},[t]),i=v.useMemo(function(){return t.getState()},[t]);$a(function(){var o=a.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),i!==t.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[a,i]);var s=r||Fa;return P.createElement(s.Provider,{value:a},n)}var Ga={exports:{}},K={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se=typeof Symbol=="function"&&Symbol.for,Zr=se?Symbol.for("react.element"):60103,Qr=se?Symbol.for("react.portal"):60106,rr=se?Symbol.for("react.fragment"):60107,nr=se?Symbol.for("react.strict_mode"):60108,ar=se?Symbol.for("react.profiler"):60114,ir=se?Symbol.for("react.provider"):60109,sr=se?Symbol.for("react.context"):60110,en=se?Symbol.for("react.async_mode"):60111,or=se?Symbol.for("react.concurrent_mode"):60111,lr=se?Symbol.for("react.forward_ref"):60112,cr=se?Symbol.for("react.suspense"):60113,zs=se?Symbol.for("react.suspense_list"):60120,dr=se?Symbol.for("react.memo"):60115,ur=se?Symbol.for("react.lazy"):60116,Ks=se?Symbol.for("react.block"):60121,qs=se?Symbol.for("react.fundamental"):60117,Ys=se?Symbol.for("react.responder"):60118,Xs=se?Symbol.for("react.scope"):60119;function ve(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zr:switch(e=e.type,e){case en:case or:case rr:case ar:case nr:case cr:return e;default:switch(e=e&&e.$$typeof,e){case sr:case lr:case ur:case dr:case ir:return e;default:return t}}case Qr:return t}}}function Wa(e){return ve(e)===or}K.AsyncMode=en;K.ConcurrentMode=or;K.ContextConsumer=sr;K.ContextProvider=ir;K.Element=Zr;K.ForwardRef=lr;K.Fragment=rr;K.Lazy=ur;K.Memo=dr;K.Portal=Qr;K.Profiler=ar;K.StrictMode=nr;K.Suspense=cr;K.isAsyncMode=function(e){return Wa(e)||ve(e)===en};K.isConcurrentMode=Wa;K.isContextConsumer=function(e){return ve(e)===sr};K.isContextProvider=function(e){return ve(e)===ir};K.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zr};K.isForwardRef=function(e){return ve(e)===lr};K.isFragment=function(e){return ve(e)===rr};K.isLazy=function(e){return ve(e)===ur};K.isMemo=function(e){return ve(e)===dr};K.isPortal=function(e){return ve(e)===Qr};K.isProfiler=function(e){return ve(e)===ar};K.isStrictMode=function(e){return ve(e)===nr};K.isSuspense=function(e){return ve(e)===cr};K.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rr||e===or||e===ar||e===nr||e===cr||e===zs||typeof e=="object"&&e!==null&&(e.$$typeof===ur||e.$$typeof===dr||e.$$typeof===ir||e.$$typeof===sr||e.$$typeof===lr||e.$$typeof===qs||e.$$typeof===Ys||e.$$typeof===Xs||e.$$typeof===Ks)};K.typeOf=ve;Ga.exports=K;var Js=Ga.exports,tn=Js,_s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Zs={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qs={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Va={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rn={};rn[tn.ForwardRef]=Qs;rn[tn.Memo]=Va;function Vn(e){return tn.isMemo(e)?Va:rn[e.$$typeof]||_s}var eo=Object.defineProperty,to=Object.getOwnPropertyNames,Un=Object.getOwnPropertySymbols,ro=Object.getOwnPropertyDescriptor,no=Object.getPrototypeOf,zn=Object.prototype;function Ua(e,t,r){if(typeof t!="string"){if(zn){var n=no(t);n&&n!==zn&&Ua(e,n,r)}var a=to(t);Un&&(a=a.concat(Un(t)));for(var i=Vn(e),s=Vn(t),o=0;o<a.length;++o){var l=a[o];if(!Zs[l]&&!(r&&r[l])&&!(s&&s[l])&&!(i&&i[l])){var c=ro(t,l);try{eo(e,l,c)}catch{}}}}return e}var ao=Ua;const Kn=os(ao);var za={exports:{}},X={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=60103,hr=60106,It=60107,wt=60108,Dt=60114,At=60109,Et=60110,Pt=60112,Nt=60113,nn=60120,Rt=60115,Ot=60116,Ka=60121,qa=60122,Ya=60117,Xa=60129,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var oe=Symbol.for;pr=oe("react.element"),hr=oe("react.portal"),It=oe("react.fragment"),wt=oe("react.strict_mode"),Dt=oe("react.profiler"),At=oe("react.provider"),Et=oe("react.context"),Pt=oe("react.forward_ref"),Nt=oe("react.suspense"),nn=oe("react.suspense_list"),Rt=oe("react.memo"),Ot=oe("react.lazy"),Ka=oe("react.block"),qa=oe("react.server.block"),Ya=oe("react.fundamental"),Xa=oe("react.debug_trace_mode"),Ja=oe("react.legacy_hidden")}function Pe(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pr:switch(e=e.type,e){case It:case Dt:case wt:case Nt:case nn:return e;default:switch(e=e&&e.$$typeof,e){case Et:case Pt:case Ot:case Rt:case At:return e;default:return t}}case hr:return t}}}var io=At,so=pr,oo=Pt,lo=It,co=Ot,uo=Rt,po=hr,ho=Dt,fo=wt,go=Nt;X.ContextConsumer=Et;X.ContextProvider=io;X.Element=so;X.ForwardRef=oo;X.Fragment=lo;X.Lazy=co;X.Memo=uo;X.Portal=po;X.Profiler=ho;X.StrictMode=fo;X.Suspense=go;X.isAsyncMode=function(){return!1};X.isConcurrentMode=function(){return!1};X.isContextConsumer=function(e){return Pe(e)===Et};X.isContextProvider=function(e){return Pe(e)===At};X.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pr};X.isForwardRef=function(e){return Pe(e)===Pt};X.isFragment=function(e){return Pe(e)===It};X.isLazy=function(e){return Pe(e)===Ot};X.isMemo=function(e){return Pe(e)===Rt};X.isPortal=function(e){return Pe(e)===hr};X.isProfiler=function(e){return Pe(e)===Dt};X.isStrictMode=function(e){return Pe(e)===wt};X.isSuspense=function(e){return Pe(e)===Nt};X.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===It||e===Dt||e===Xa||e===wt||e===Nt||e===nn||e===Ja||typeof e=="object"&&e!==null&&(e.$$typeof===Ot||e.$$typeof===Rt||e.$$typeof===At||e.$$typeof===Et||e.$$typeof===Pt||e.$$typeof===Ya||e.$$typeof===Ka||e[0]===qa)};X.typeOf=Pe;za.exports=X;var mo=za.exports,vo=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],bo=["reactReduxForwardedRef"],yo=[],Co=[null,null];function xo(e,t){var r=e[1];return[t.payload,r+1]}function qn(e,t,r){$a(function(){return e.apply(void 0,t)},r)}function So(e,t,r,n,a,i,s){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,s())}function Io(e,t,r,n,a,i,s,o,l,c){if(e){var d=!1,u=null,p=function(){if(!d){var m=t.getState(),b,y;try{b=n(m,a.current)}catch(x){y=x,u=x}y||(u=null),b===i.current?s.current||l():(i.current=b,o.current=b,s.current=!0,c({type:"STORE_UPDATED",payload:{error:y}}))}};r.onStateChange=p,r.trySubscribe(),p();var h=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,u)throw u};return h}}var wo=function(){return[null,0]};function Do(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(C){return"ConnectAdvanced("+C+")"}:n,i=r.methodName,s=i===void 0?"connectAdvanced":i,o=r.renderCountProp,l=o===void 0?void 0:o,c=r.shouldHandleStateChanges,d=c===void 0?!0:c,u=r.storeKey,p=u===void 0?"store":u;r.withRef;var h=r.forwardRef,g=h===void 0?!1:h,m=r.context,b=m===void 0?Fa:m,y=zt(r,vo),x=b;return function(S){var N=S.displayName||S.name||"Component",R=a(N),k=T({},y,{getDisplayName:a,methodName:s,renderCountProp:l,shouldHandleStateChanges:d,storeKey:p,displayName:R,wrappedComponentName:N,WrappedComponent:S}),L=y.pure;function j(I){return e(I.dispatch,k)}var W=L?v.useMemo:function(I){return I()};function M(I){var B=v.useMemo(function(){var Oe=I.reactReduxForwardedRef,$e=zt(I,bo);return[I.context,Oe,$e]},[I]),F=B[0],V=B[1],z=B[2],Z=v.useMemo(function(){return F&&F.Consumer&&mo.isContextConsumer(P.createElement(F.Consumer,null))?F:x},[F,x]),Y=v.useContext(Z),ee=!!I.store&&!!I.store.getState&&!!I.store.dispatch;Y&&Y.store;var _=ee?I.store:Y.store,U=v.useMemo(function(){return j(_)},[_]),$=v.useMemo(function(){if(!d)return Co;var Oe=Ha(_,ee?null:Y.subscription),$e=Oe.notifyNestedSubs.bind(Oe);return[Oe,$e]},[_,ee,Y]),Q=$[0],ce=$[1],be=v.useMemo(function(){return ee?Y:T({},Y,{subscription:Q})},[ee,Y,Q]),ye=v.useReducer(xo,yo,wo),Ie=ye[0],he=Ie[0],Ne=ye[1];if(he&&he.error)throw he.error;var Re=v.useRef(),Ue=v.useRef(z),A=v.useRef(),q=v.useRef(!1),re=W(function(){return A.current&&z===Ue.current?A.current:U(_.getState(),z)},[_,he,z]);qn(So,[Ue,Re,q,z,re,A,ce]),qn(Io,[d,_,Q,U,Ue,Re,q,A,ce,Ne],[_,Q,U]);var ne=v.useMemo(function(){return P.createElement(S,T({},re,{ref:V}))},[V,S,re]),ze=v.useMemo(function(){return d?P.createElement(Z.Provider,{value:be},ne):ne},[Z,ne,be]);return ze}var te=L?P.memo(M):M;if(te.WrappedComponent=S,te.displayName=M.displayName=R,g){var H=P.forwardRef(function(B,F){return P.createElement(te,T({},B,{reactReduxForwardedRef:F}))});return H.displayName=R,H.WrappedComponent=S,Kn(H,S)}return Kn(te,S)}}function Yn(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Dr(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Yn(e[r[a]],t[r[a]]))return!1;return!0}function Ao(e,t){var r={},n=function(s){var o=e[s];typeof o=="function"&&(r[s]=function(){return t(o.apply(void 0,arguments))})};for(var a in e)n(a);return r}function an(e){return function(r,n){var a=e(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Xn(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function _a(e,t){return function(n,a){a.displayName;var i=function(o,l){return i.dependsOnOwnProps?i.mapToProps(o,l):i.mapToProps(o)};return i.dependsOnOwnProps=!0,i.mapToProps=function(o,l){i.mapToProps=e,i.dependsOnOwnProps=Xn(e);var c=i(o,l);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=Xn(c),c=i(o,l)),c},i}}function Eo(e){return typeof e=="function"?_a(e):void 0}function Po(e){return e?void 0:an(function(t){return{dispatch:t}})}function No(e){return e&&typeof e=="object"?an(function(t){return Ao(e,t)}):void 0}const Ro=[Eo,Po,No];function Oo(e){return typeof e=="function"?_a(e):void 0}function To(e){return e?void 0:an(function(){return{}})}const Bo=[Oo,To];function jo(e,t,r){return T({},r,e,t)}function Mo(e){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,s=!1,o;return function(c,d,u){var p=e(c,d,u);return s?(!a||!i(p,o))&&(o=p):(s=!0,o=p),o}}}function ko(e){return typeof e=="function"?Mo(e):void 0}function Fo(e){return e?void 0:function(){return jo}}const Lo=[ko,Fo];var Ho=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function $o(e,t,r,n){return function(i,s){return r(e(i,s),t(n,s),s)}}function Go(e,t,r,n,a){var i=a.areStatesEqual,s=a.areOwnPropsEqual,o=a.areStatePropsEqual,l=!1,c,d,u,p,h;function g(C,S){return c=C,d=S,u=e(c,d),p=t(n,d),h=r(u,p,d),l=!0,h}function m(){return u=e(c,d),t.dependsOnOwnProps&&(p=t(n,d)),h=r(u,p,d),h}function b(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(p=t(n,d)),h=r(u,p,d),h}function y(){var C=e(c,d),S=!o(C,u);return u=C,S&&(h=r(u,p,d)),h}function x(C,S){var N=!s(S,d),R=!i(C,c,S,d);return c=C,d=S,N&&R?m():N?b():R?y():h}return function(S,N){return l?x(S,N):g(S,N)}}function Wo(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=zt(t,Ho),s=r(e,i),o=n(e,i),l=a(e,i),c=i.pure?Go:$o;return c(s,o,l,e,i)}var Vo=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Ar(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(i,s){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function Uo(e,t){return e===t}function zo(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Do:r,a=t.mapStateToPropsFactories,i=a===void 0?Bo:a,s=t.mapDispatchToPropsFactories,o=s===void 0?Ro:s,l=t.mergePropsFactories,c=l===void 0?Lo:l,d=t.selectorFactory,u=d===void 0?Wo:d;return function(h,g,m,b){b===void 0&&(b={});var y=b,x=y.pure,C=x===void 0?!0:x,S=y.areStatesEqual,N=S===void 0?Uo:S,R=y.areOwnPropsEqual,k=R===void 0?Dr:R,L=y.areStatePropsEqual,j=L===void 0?Dr:L,W=y.areMergedPropsEqual,M=W===void 0?Dr:W,te=zt(y,Vo),H=Ar(h,i,"mapStateToProps"),I=Ar(g,o,"mapDispatchToProps"),B=Ar(m,c,"mergeProps");return n(u,T({methodName:"connect",getDisplayName:function(V){return"Connect("+V+")"},shouldHandleStateChanges:!!h,initMapStateToProps:H,initMapDispatchToProps:I,initMergeProps:B,pure:C,areStatesEqual:N,areOwnPropsEqual:k,areStatePropsEqual:j,areMergedPropsEqual:M},te))}}const Za=zo();Gs(ls.unstable_batchedUpdates);function Ko(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Qa(e,t){var r=v.useState(function(){return{inputs:t,result:e()}})[0],n=v.useRef(!0),a=v.useRef(r),i=n.current||!!(t&&a.current.inputs&&Ko(t,a.current.inputs)),s=i?a.current:{inputs:t,result:e()};return v.useEffect(function(){n.current=!1,a.current=s},[s]),s.result}function qo(e,t){return Qa(function(){return e},t)}var G=Qa,O=qo,Yo="Invariant failed";function Xo(e,t){throw new Error(Yo)}var Ee=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,s=n-i,o=a-r,l={top:r,right:n,bottom:a,left:i,width:s,height:o,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return l},sn=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Jn=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Jo=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Er={top:0,right:0,bottom:0,left:0},on=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Er:n,i=t.border,s=i===void 0?Er:i,o=t.padding,l=o===void 0?Er:o,c=Ee(sn(r,a)),d=Ee(Jn(r,s)),u=Ee(Jn(d,l));return{marginBox:c,borderBox:Ee(r),paddingBox:d,contentBox:u,margin:a,border:s,padding:l}},Ce=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&Xo(),a},_o=function(){return{x:window.pageXOffset,y:window.pageYOffset}},qt=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,s=t.padding,o=Jo(n,r);return on({borderBox:o,border:a,margin:i,padding:s})},Yt=function(t,r){return r===void 0&&(r=_o()),qt(t,r)},ei=function(t,r){var n={top:Ce(r.marginTop),right:Ce(r.marginRight),bottom:Ce(r.marginBottom),left:Ce(r.marginLeft)},a={top:Ce(r.paddingTop),right:Ce(r.paddingRight),bottom:Ce(r.paddingBottom),left:Ce(r.paddingLeft)},i={top:Ce(r.borderTopWidth),right:Ce(r.borderRightWidth),bottom:Ce(r.borderBottomWidth),left:Ce(r.borderLeftWidth)};return on({borderBox:t,margin:n,padding:a,border:i})},ti=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return ei(r,n)},_n=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Zo(e,t){return!!(e===t||_n(e)&&_n(t))}function Qo(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Zo(e[r],t[r]))return!1;return!0}function ae(e,t){t===void 0&&(t=Qo);var r,n=[],a,i=!1;function s(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return i&&r===this&&t(o,n)||(a=e.apply(this,o),i=!0,r=this,n=o),a}return s}var ft=function(t){var r=[],n=null,a=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];r=o,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function ri(e,t){}ri.bind(null,"warn");ri.bind(null,"error");function Me(){}function el(e,t){return T({},e,{},t)}function xe(e,t,r){var n=t.map(function(a){var i=el(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var tl="Invariant failed";function Xt(e){this.message=e}Xt.prototype.toString=function(){return this.message};function w(e,t){throw new Xt(tl)}var rl=function(e){ja(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=Me,n.onWindowError=function(o){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var c=o.error;c instanceof Xt&&o.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(o){n.callbacks=o},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=xe(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof Xt){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(P.Component),nl=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Jt=function(t){return t+1},al=function(t){return`
  You have lifted an item in position `+Jt(t.source.index)+`
`},ni=function(t,r){var n=t.droppableId===r.droppableId,a=Jt(t.index),i=Jt(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},ai=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},il=function(t){var r=t.destination;if(r)return ni(t.source,r);var n=t.combine;return n?ai(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Zn=function(t){return`
  The item has returned to its starting position
  of `+Jt(t.index)+`
`},sl=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Zn(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+ni(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+ai(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Zn(t.source)+`
  `},Vt={dragHandleUsageInstructions:nl,onDragStart:al,onDragUpdate:il,onDragEnd:sl},ie={x:0,y:0},le=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},fe=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},ke=function(t,r){return t.x===r.x&&t.y===r.y},nt=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Ve=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},gt=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Qn=function(t,r){return Math.min.apply(Math,r.map(function(n){return gt(t,n)}))},ii=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},ol=function(e,t){var r=Ee({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Tt=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},ea=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},ll={top:0,right:0,bottom:0,left:0},cl=function(t,r){return r?Tt(t,r.scroll.diff.displacement):t},dl=function(t,r,n){if(n&&n.increasedBy){var a;return T({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},ul=function(t,r){return r&&r.shouldClipSubject?ol(r.pageMarginBox,t):Ee(t)},et=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=cl(t.marginBox,a),s=dl(i,n,r),o=ul(s,a);return{page:t,withPlaceholder:r,active:o}},ln=function(e,t){e.frame||w();var r=e.frame,n=fe(t,r.scroll.initial),a=nt(n),i=T({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),s=et({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),o=T({},e,{frame:i,subject:s});return o};function _t(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function cn(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function He(e,t){if(e.find)return e.find(t);var r=cn(e,t);if(r!==-1)return e[r]}function si(e){return Array.prototype.slice.call(e)}var oi=ae(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),li=ae(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),fr=ae(function(e){return _t(e)}),pl=ae(function(e){return _t(e)}),at=ae(function(e,t){var r=pl(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function dn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function gr(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var mr=ae(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),hl=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var s=dn(i);if(!s)return null;function o(m){var b={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return T({},i,{at:b})}var l=i.displaced.all,c=l.length?l[0]:null;if(t)return c?o(c):null;var d=mr(r,a);if(!c){if(!d.length)return null;var u=d[d.length-1];return o(u.descriptor.id)}var p=cn(d,function(m){return m.descriptor.id===c});p===-1&&w();var h=p-1;if(h<0)return null;var g=d[h];return o(g.descriptor.id)},it=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ci={point:ie,value:0},mt={invisible:{},visible:{},all:[]},fl={displaced:mt,displacedBy:ci,at:null},Se=function(e,t){return function(r){return e<=r&&r<=t}},di=function(e){var t=Se(e.top,e.bottom),r=Se(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=t(n.top)||t(n.bottom),s=r(n.left)||r(n.right),o=i&&s;if(o)return!0;var l=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right,d=l&&c;if(d)return!0;var u=l&&s||c&&i;return u}},gl=function(e){var t=Se(e.top,e.bottom),r=Se(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},un={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ui={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ml=function(e){return function(t){var r=Se(t.top,t.bottom),n=Se(t.left,t.right);return function(a){return e===un?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},vl=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:ie;return Tt(t,n)},bl=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},yl=function(t,r,n){return n(r)(t)},pn=function(t){var r=t.target,n=t.destination,a=t.viewport,i=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,o=i?vl(r,n):r;return bl(o,n,s)&&yl(o,a,s)},Cl=function(t){return pn(T({},t,{isVisibleThroughFrameFn:di}))},pi=function(t){return pn(T({},t,{isVisibleThroughFrameFn:gl}))},xl=function(t){return pn(T({},t,{isVisibleThroughFrameFn:ml(t.destination.axis)}))},Sl=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var s=i[t];return s?s.shouldAnimate:!0};function Il(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ee(sn(r,n))}function vt(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,s=e.last;return t.reduce(function(l,c){var d=Il(c,n),u=c.descriptor.id;l.all.push(u);var p=Cl({target:d,destination:r,viewport:a,withDroppableDisplacement:!0});if(!p)return l.invisible[c.descriptor.id]=!0,l;var h=Sl(u,s,i),g={draggableId:u,shouldAnimate:h};return l.visible[u]=g,l},{all:[],visible:{},invisible:{}})}function wl(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function ta(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=wl(t,{inHomeList:r});return{displaced:mt,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Zt(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,s=e.last,o=e.index,l=e.forceShouldAnimate,c=it(t,n);if(o==null)return ta({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var d=He(r,function(m){return m.descriptor.index===o});if(!d)return ta({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var u=mr(t,r),p=r.indexOf(d),h=u.slice(p),g=vt({afterDragging:h,destination:n,displacedBy:i,last:s,viewport:a.frame,forceShouldAnimate:l});return{displaced:g,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Le(e,t){return!!t.effected[e]}var Dl=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var s=a.draggableId,o=n[s],l=o.descriptor.index,c=Le(s,i);return c?t?l:l-1:t?l+1:l},Al=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,s=t?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=r?l:l+1;return s<o||s>c?null:s},El=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,s=e.insideDestination,o=e.previousImpact,l=e.viewport,c=e.afterCritical,d=o.at;if(d||w(),d.type==="REORDER"){var u=Al({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:s});return u==null?null:Zt({draggable:n,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}var p=Dl({isMovingForward:t,destination:i,displaced:o.displaced,draggables:a,combine:d.combine,afterCritical:c});return p==null?null:Zt({draggable:n,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})},Pl=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return Le(n,r)?i?ie:nt(a.point):i?a.point:ie},Nl=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=gr(r);a||w();var i=a.draggableId,s=n[i].page.borderBox.center,o=Pl({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return le(s,o)},hi=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Rl=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},hn=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},ra=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Ve(r.line,n.marginBox[r.end]+hi(r,a),hn(r,n.marginBox,a))},na=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Ve(r.line,n.marginBox[r.start]-Rl(r,a),hn(r,n.marginBox,a))},Ol=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return Ve(r.line,n.contentBox[r.start]+hi(r,a),hn(r,n.contentBox,a))},Tl=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,s=at(a.descriptor.id,n),o=r.page,l=a.axis;if(!s.length)return Ol({axis:l,moveInto:a.page,isMoving:o});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var p=n[u];if(Le(u,i))return na({axis:l,moveRelativeTo:p.page,isMoving:o});var h=qt(p.page,d.point);return na({axis:l,moveRelativeTo:h,isMoving:o})}var g=s[s.length-1];if(g.descriptor.id===r.descriptor.id)return o.borderBox.center;if(Le(g.descriptor.id,i)){var m=qt(g.page,nt(i.displacedBy.point));return ra({axis:l,moveRelativeTo:m,isMoving:o})}return ra({axis:l,moveRelativeTo:g.page,isMoving:o})},$r=function(e,t){var r=e.frame;return r?le(t,r.scroll.diff.displacement):t},Bl=function(t){var r=t.impact,n=t.draggable,a=t.droppable,i=t.draggables,s=t.afterCritical,o=n.page.borderBox.center,l=r.at;return!a||!l?o:l.type==="REORDER"?Tl({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:s}):Nl({impact:r,draggables:i,afterCritical:s})},vr=function(e){var t=Bl(e),r=e.droppable,n=r?$r(r,t):t;return n},fi=function(e,t){var r=fe(t,e.scroll.initial),n=nt(r),a=Ee({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function aa(e,t){return e.map(function(r){return t[r]})}function jl(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Ml=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,s=fi(r,le(r.scroll.current,i)),o=n.frame?ln(n,le(n.frame.scroll.current,i)):n,l=t.displaced,c=vt({afterDragging:aa(l.all,a),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=vt({afterDragging:aa(l.all,a),destination:o,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),u={},p={},h=[l,c,d];l.all.forEach(function(m){var b=jl(m,h);if(b){p[m]=b;return}u[m]=!0});var g=T({},t,{displaced:{all:l.all,invisible:u,visible:p}});return g},kl=function(e,t){return le(e.scroll.diff.displacement,t)},fn=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=kl(n,t),i=fe(a,r.page.borderBox.center);return le(r.client.borderBox.center,i)},gi=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,o=s===void 0?!1:s,l=fe(n,t.page.borderBox.center),c=Tt(t.page.borderBox,l),d={target:c,destination:r,withDroppableDisplacement:i,viewport:a};return o?xl(d):pi(d)},Fl=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,s=e.viewport,o=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var d=at(n.descriptor.id,a),u=it(r,n),p=hl({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:i})||El({isMovingForward:t,isInHomeList:u,draggable:r,draggables:a,destination:n,insideDestination:d,previousImpact:i,viewport:s,afterCritical:c});if(!p)return null;var h=vr({impact:p,draggable:r,droppable:n,draggables:a,afterCritical:c}),g=gi({draggable:r,destination:n,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var m=fn({pageBorderBoxCenter:h,draggable:r,viewport:s});return{clientSelection:m,impact:p,scrollJumpRequest:null}}var b=fe(h,o),y=Ml({impact:p,viewport:s,destination:n,draggables:a,maxScrollChange:b});return{clientSelection:l,impact:y,scrollJumpRequest:b}},de=function(t){var r=t.subject.active;return r||w(),r},Ll=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,s=n.subject.active;if(!s)return null;var o=n.axis,l=Se(s[o.start],s[o.end]),c=fr(a).filter(function(u){return u!==n}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return di(i.frame)(de(u))}).filter(function(u){var p=de(u);return t?s[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<s[o.crossAxisStart]}).filter(function(u){var p=de(u),h=Se(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||h(s[o.start])||h(s[o.end])}).sort(function(u,p){var h=de(u)[o.crossAxisStart],g=de(p)[o.crossAxisStart];return t?h-g:g-h}).filter(function(u,p,h){return de(u)[o.crossAxisStart]===de(h[0])[o.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var d=c.filter(function(u){var p=Se(de(u)[o.start],de(u)[o.end]);return p(r[o.line])});return d.length===1?d[0]:d.length>1?d.sort(function(u,p){return de(u)[o.start]-de(p)[o.start]})[0]:c.sort(function(u,p){var h=Qn(r,ea(de(u))),g=Qn(r,ea(de(p)));return h!==g?h-g:de(u)[o.start]-de(p)[o.start]})[0]},ia=function(t,r){var n=t.page.borderBox.center;return Le(t.descriptor.id,r)?fe(n,r.displacedBy.point):n},Hl=function(t,r){var n=t.page.borderBox;return Le(t.descriptor.id,r)?Tt(n,nt(r.displacedBy.point)):n},$l=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,s=a.filter(function(o){return pi({target:Hl(o,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(o,l){var c=gt(t,$r(n,ia(o,i))),d=gt(t,$r(n,ia(l,i)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index});return s[0]||null},Bt=ae(function(t,r){var n=r[t.line];return{value:n,point:Ve(t.line,n)}}),Gl=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return Ve(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],s=at(t.descriptor.id,n),o=s.reduce(function(d,u){return d+u.client.marginBox[a.size]},0),l=o+r[a.line],c=l-i;return c<=0?null:Ve(a.line,c)},mi=function(t,r){return T({},t,{scroll:T({},t.scroll,{max:r})})},vi=function(t,r,n){var a=t.frame;it(r,t)&&w(),t.subject.withPlaceholder&&w();var i=Bt(t.axis,r.displaceBy).point,s=Gl(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var l=et({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return T({},t,{subject:l})}var c=s?le(a.scroll.max,s):a.scroll.max,d=mi(a,c),u=et({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:d});return T({},t,{subject:u,frame:d})},Wl=function(t){var r=t.subject.withPlaceholder;r||w();var n=t.frame;if(!n){var a=et({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return T({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||w();var s=mi(n,i),o=et({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return T({},t,{subject:o,frame:s})},Vl=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,s=e.destination,o=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:mt,displacedBy:ci,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=vr({impact:c,draggable:a,droppable:s,draggables:i,afterCritical:l}),u=it(a,s)?s:vi(s,a,i),p=gi({draggable:a,destination:u,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?c:null}var h=t[s.axis.line]<=r.page.borderBox.center[s.axis.line],g=function(){var b=r.descriptor.index;return r.descriptor.id===a.descriptor.id||h?b:b+1}(),m=Bt(s.axis,a.displaceBy);return Zt({draggable:a,insideDestination:n,destination:s,viewport:o,displacedBy:m,last:mt,index:g})},Ul=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,s=e.droppables,o=e.viewport,l=e.afterCritical,c=Ll({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:s,viewport:o});if(!c)return null;var d=at(c.descriptor.id,i),u=$l({pageBorderBoxCenter:r,viewport:o,destination:c,insideDestination:d,afterCritical:l}),p=Vl({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;var h=vr({impact:p,draggable:n,droppable:c,draggables:i,afterCritical:l}),g=fn({pageBorderBoxCenter:h,draggable:n,viewport:o});return{clientSelection:g,impact:p,scrollJumpRequest:null}},ge=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},zl=function(t,r){var n=ge(t);return n?r[n]:null},Kl=function(e){var t=e.state,r=e.type,n=zl(t.impact,t.dimensions.droppables),a=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,l=o==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||o==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!a)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,p=t.dimensions,h=p.draggables,g=p.droppables;return l?Fl({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:s,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Ul({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:s,draggables:h,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function We(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function bi(e){var t=Se(e.top,e.bottom),r=Se(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function ql(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Yl(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map(function(s){var o=s.axis,l=Ve(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:gt(a,l)}}).sort(function(s,o){return o.distance-s.distance});return i[0]?i[0].id:null}function Xl(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=fr(n).filter(function(i){if(!i.isEnabled)return!1;var s=i.subject.active;if(!s||!ql(t,s))return!1;if(bi(s)(t.center))return!0;var o=i.axis,l=s.center[o.crossAxisLine],c=t[o.crossAxisStart],d=t[o.crossAxisEnd],u=Se(s[o.crossAxisStart],s[o.crossAxisEnd]),p=u(c),h=u(d);return!p&&!h?!0:p?c<l:d>l});return a.length?a.length===1?a[0].descriptor.id:Yl({pageBorderBox:t,draggable:r,candidates:a}):null}var yi=function(t,r){return Ee(Tt(t,r))},Jl=function(e,t){var r=e.frame;return r?yi(t,r.scroll.diff.value):t};function Ci(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function _l(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Zl=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,s=e.viewport,o=e.afterCritical,l=n.axis,c=Bt(n.axis,r.displaceBy),d=c.value,u=t[l.start],p=t[l.end],h=mr(r,a),g=He(h,function(b){var y=b.descriptor.id,x=b.page.borderBox.center[l.line],C=Le(y,o),S=Ci({displaced:i,id:y});return C?S?p<=x:u<x-d:S?p<=x+d:u<x}),m=_l({draggable:r,closest:g,inHomeList:it(r,n)});return Zt({draggable:r,insideDestination:a,destination:n,viewport:s,last:i,displacedBy:c,index:m})},Ql=4,ec=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,s=e.afterCritical;if(!a.isCombineEnabled)return null;var o=a.axis,l=Bt(a.axis,t.displaceBy),c=l.value,d=r[o.start],u=r[o.end],p=mr(t,i),h=He(p,function(m){var b=m.descriptor.id,y=m.page.borderBox,x=y[o.size],C=x/Ql,S=Le(b,s),N=Ci({displaced:n.displaced,id:b});return S?N?u>y[o.start]+C&&u<y[o.end]-C:d>y[o.start]-c+C&&d<y[o.end]-c-C:N?u>y[o.start]+c+C&&u<y[o.end]+c-C:d>y[o.start]+C&&d<y[o.end]-C});if(!h)return null;var g={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:a.descriptor.id}}};return g},xi=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,s=e.viewport,o=e.afterCritical,l=yi(r.page.borderBox,t),c=Xl({pageBorderBox:l,draggable:r,droppables:a});if(!c)return fl;var d=a[c],u=at(d.descriptor.id,n),p=Jl(d,l);return ec({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:i,destination:d,insideDestination:u,afterCritical:o})||Zl({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:d,insideDestination:u,last:i.displaced,viewport:s,afterCritical:o})},gn=function(e,t){var r;return T({},e,(r={},r[t.descriptor.id]=t,r))},tc=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,i=ge(r),s=ge(n);if(!i||i===s)return a;var o=a[i];if(!o.subject.withPlaceholder)return a;var l=Wl(o);return gn(a,l)},rc=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,s=tc({previousImpact:a,impact:i,droppables:n}),o=ge(i);if(!o)return s;var l=n[o];if(it(t,l)||l.subject.withPlaceholder)return s;var c=vi(l,t,r);return gn(s,c)},ut=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,s=e.scrollJumpRequest,o=a||t.viewport,l=n||t.dimensions,c=r||t.current.client.selection,d=fe(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:le(t.initial.client.borderBoxCenter,d)},p={selection:le(u.selection,o.scroll.current),borderBoxCenter:le(u.borderBoxCenter,o.scroll.current),offset:le(u.offset,o.scroll.diff.value)},h={client:u,page:p};if(t.phase==="COLLECTING")return T({phase:"COLLECTING"},t,{dimensions:l,viewport:o,current:h});var g=l.draggables[t.critical.draggable.id],m=i||xi({pageOffset:p.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),b=rc({draggable:g,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),y=T({},t,{current:h,dimensions:{draggables:l.draggables,droppables:b},impact:m,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return y};function nc(e,t){return e.map(function(r){return t[r]})}var Si=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,s=t.displaced,o=nc(s.all,n),l=vt({afterDragging:o,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:s});return T({},t,{displaced:l})},Ii=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,s=e.afterCritical,o=vr({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:s});return fn({pageBorderBoxCenter:o,draggable:r,viewport:i})},wi=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&w();var a=t.impact,i=n||t.viewport,s=r||t.dimensions,o=s.draggables,l=s.droppables,c=o[t.critical.draggable.id],d=ge(a);d||w();var u=l[d],p=Si({impact:a,viewport:i,destination:u,draggables:o}),h=Ii({impact:p,draggable:c,droppable:u,draggables:o,viewport:i,afterCritical:t.afterCritical});return ut({impact:p,clientSelection:h,state:t,dimensions:s,viewport:i})},ac=function(e){return{index:e.index,droppableId:e.droppableId}},Di=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=Bt(r.axis,t.displaceBy),s=at(r.descriptor.id,n),o=s.indexOf(t);o===-1&&w();var l=s.slice(o+1),c=l.reduce(function(h,g){return h[g.descriptor.id]=!0,h},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:c},u=vt({afterDragging:l,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),p={displaced:u,displacedBy:i,at:{type:"REORDER",destination:ac(t.descriptor)}};return{impact:p,afterCritical:d}},ic=function(e,t){return{draggables:e.draggables,droppables:gn(e.droppables,t)}},sc=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=qt(t.client,r),i=Yt(a,n),s=T({},t,{placeholder:T({},t.placeholder,{client:a}),client:a,page:i});return s},oc=function(e){var t=e.frame;return t||w(),t},lc=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(i){var s=i.descriptor.droppableId,o=r[s],l=oc(o),c=l.scroll.diff.value,d=le(a,c),u=sc({draggable:i,offset:d,initialWindowScroll:n.scroll.initial});return u})},cc=function(e){var t=e.state,r=e.published,n=r.modified.map(function(C){var S=t.dimensions.droppables[C.droppableId],N=ln(S,C.scroll);return N}),a=T({},t.dimensions.droppables,{},oi(n)),i=li(lc({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),s=T({},t.dimensions.draggables,{},i);r.removals.forEach(function(C){delete s[C]});var o={droppables:a,draggables:s},l=ge(t.impact),c=l?o.droppables[l]:null,d=o.draggables[t.critical.draggable.id],u=o.droppables[t.critical.droppable.id],p=Di({draggable:d,home:u,draggables:s,viewport:t.viewport}),h=p.impact,g=p.afterCritical,m=c&&c.isCombineEnabled?t.impact:h,b=xi({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:t.viewport,afterCritical:g}),y=T({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:h,dimensions:o,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return y;var x=T({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return x},Gr=function(t){return t.movementMode==="SNAP"},Pr=function(t,r,n){var a=ic(t.dimensions,r);return!Gr(t)||n?ut({state:t,dimensions:a}):wi({state:t,dimensions:a})};function Nr(e){return e.isDragging&&e.movementMode==="SNAP"?T({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var sa={phase:"IDLE",completed:null,shouldFlush:!1},dc=function(e,t){if(e===void 0&&(e=sa),t.type==="FLUSH")return T({},sa,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&w();var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,s=r.dimensions,o=r.movementMode,l=s.draggables[n.draggable.id],c=s.droppables[n.droppable.id],d={selection:a,borderBoxCenter:l.client.borderBox.center,offset:ie},u={client:d,page:{selection:le(d.selection,i.scroll.initial),borderBoxCenter:le(d.selection,i.scroll.initial),offset:le(d.selection,i.scroll.diff.value)}},p=fr(s.droppables).every(function(Ne){return!Ne.isFixedOnPage}),h=Di({draggable:l,home:c,draggables:s.draggables,viewport:i}),g=h.impact,m=h.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:u,current:u,isWindowScrollAllowed:p,impact:g,afterCritical:m,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&w();var y=T({phase:"COLLECTING"},e,{phase:"COLLECTING"});return y}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||w(),cc({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;We(e)||w();var x=t.payload.client;return ke(x,e.current.client.selection)?e:ut({state:e,clientSelection:x,impact:Gr(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Nr(e);We(e)||w();var C=t.payload,S=C.id,N=C.newScroll,R=e.dimensions.droppables[S];if(!R)return e;var k=ln(R,N);return Pr(e,k,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;We(e)||w();var L=t.payload,j=L.id,W=L.isEnabled,M=e.dimensions.droppables[j];M||w(),M.isEnabled===W&&w();var te=T({},M,{isEnabled:W});return Pr(e,te,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;We(e)||w();var H=t.payload,I=H.id,B=H.isCombineEnabled,F=e.dimensions.droppables[I];F||w(),F.isCombineEnabled===B&&w();var V=T({},F,{isCombineEnabled:B});return Pr(e,V,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;We(e)||w(),e.isWindowScrollAllowed||w();var z=t.payload.newScroll;if(ke(e.viewport.scroll.current,z))return Nr(e);var Z=fi(e.viewport,z);return Gr(e)?wi({state:e,viewport:Z}):ut({state:e,viewport:Z})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!We(e))return e;var Y=t.payload.maxScroll;if(ke(Y,e.viewport.scroll.max))return e;var ee=T({},e.viewport,{scroll:T({},e.viewport.scroll,{max:Y})});return T({phase:"DRAGGING"},e,{viewport:ee})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&w();var _=Kl({state:e,type:t.type});return _?ut({state:e,impact:_.impact,clientSelection:_.clientSelection,scrollJumpRequest:_.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var U=t.payload.reason;e.phase!=="COLLECTING"&&w();var $=T({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:U});return $}if(t.type==="DROP_ANIMATE"){var Q=t.payload,ce=Q.completed,be=Q.dropDuration,ye=Q.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||w();var Ie={phase:"DROP_ANIMATING",completed:ce,dropDuration:be,newHomeClientOffset:ye,dimensions:e.dimensions};return Ie}if(t.type==="DROP_COMPLETE"){var he=t.payload.completed;return{phase:"IDLE",completed:he,shouldFlush:!1}}return e},uc=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},pc=function(t){return{type:"LIFT",payload:t}},hc=function(t){return{type:"INITIAL_PUBLISH",payload:t}},fc=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},gc=function(){return{type:"COLLECTION_STARTING",payload:null}},mc=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},vc=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},bc=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Ai=function(t){return{type:"MOVE",payload:t}},yc=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Cc=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},xc=function(){return{type:"MOVE_UP",payload:null}},Sc=function(){return{type:"MOVE_DOWN",payload:null}},Ic=function(){return{type:"MOVE_RIGHT",payload:null}},wc=function(){return{type:"MOVE_LEFT",payload:null}},mn=function(){return{type:"FLUSH",payload:null}},Dc=function(t){return{type:"DROP_ANIMATE",payload:t}},vn=function(t){return{type:"DROP_COMPLETE",payload:t}},Ei=function(t){return{type:"DROP",payload:t}},Ac=function(t){return{type:"DROP_PENDING",payload:t}},Pi=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Ec=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var s=i.payload,o=s.id,l=s.clientSelection,c=s.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(vn({completed:d.completed})),r().phase!=="IDLE"&&w(),n(mn()),n(uc({draggableId:o,movementMode:c}));var u={shouldPublishImmediately:c==="SNAP"},p={draggableId:o,scrollOptions:u},h=e.startPublishing(p),g=h.critical,m=h.dimensions,b=h.viewport;n(hc({critical:g,dimensions:m,clientSelection:l,movementMode:c,viewport:b}))}}}},Pc=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},bn={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},bt={opacity:{drop:0,combining:.7},scale:{drop:.75}},yn={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ge=yn.outOfTheWay+"s "+bn.outOfTheWay,pt={fluid:"opacity "+Ge,snap:"transform "+Ge+", opacity "+Ge,drop:function(t){var r=t+"s "+bn.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Ge,placeholder:"height "+Ge+", width "+Ge+", margin "+Ge},oa=function(t){return ke(t,ie)?null:"translate("+t.x+"px, "+t.y+"px)"},Wr={moveTo:oa,drop:function(t,r){var n=oa(t);return n?r?n+" scale("+bt.scale.drop+")":n:null}},Vr=yn.minDropTime,Ni=yn.maxDropTime,Nc=Ni-Vr,la=1500,Rc=.6,Oc=function(e){var t=e.current,r=e.destination,n=e.reason,a=gt(t,r);if(a<=0)return Vr;if(a>=la)return Ni;var i=a/la,s=Vr+Nc*i,o=n==="CANCEL"?s*Rc:s;return Number(o.toFixed(2))},Tc=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,s=n.draggables,o=n.droppables,l=ge(t),c=l?o[l]:null,d=o[r.descriptor.droppableId],u=Ii({impact:t,draggable:r,draggables:s,afterCritical:i,droppable:c||d,viewport:a}),p=fe(u,r.client.borderBox.center);return p},Bc=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,s=e.onLiftImpact;if(!n.at||r!=="DROP"){var o=Si({draggables:t,impact:s,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=T({},n,{displaced:mt});return{impact:l,didDropInsideDroppable:!0}},jc=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=t(),s=a.payload.reason;if(i.phase==="COLLECTING"){r(Ac({reason:s}));return}if(i.phase!=="IDLE"){var o=i.phase==="DROP_PENDING"&&i.isWaiting;o&&w(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||w();var l=i.critical,c=i.dimensions,d=c.draggables[i.critical.draggable.id],u=Bc({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=u.impact,h=u.didDropInsideDroppable,g=h?dn(p):null,m=h?gr(p):null,b={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:b,reason:s,mode:i.movementMode,destination:g,combine:m},x=Tc({impact:p,draggable:d,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:p},S=!ke(i.current.client.offset,x)||!!y.combine;if(!S){r(vn({completed:C}));return}var N=Oc({current:i.current.client.offset,destination:x,reason:s}),R={newHomeClientOffset:x,dropDuration:N,completed:C};r(Dc(R))}}}},Ri=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Mc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function kc(e){var t=e.onWindowScroll;function r(){t(Ri())}var n=ft(r),a=Mc(n),i=Me;function s(){return i!==Me}function o(){s()&&w(),i=xe(window,[a])}function l(){s()||w(),n.cancel(),i(),i=Me}return{start:o,stop:l,isActive:s}}var Fc=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Lc=function(e){var t=kc({onWindowScroll:function(n){e.dispatch(yc({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Fc(n)&&t.stop(),r(n)}}},Hc=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(s){t||r||(t=!0,e(s),clearTimeout(n))};return a.wasCalled=function(){return t},a},$c=function(){var e=[],t=function(i){var s=cn(e,function(c){return c.timerId===i});s===-1&&w();var o=e.splice(s,1),l=o[0];l.callback()},r=function(i){var s=setTimeout(function(){return t(s)}),o={timerId:s,callback:i};e.push(o)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:r,flush:n}},Gc=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},Wc=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},Vc=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},lt=function(t,r){r()},Lt=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Rr=function(t,r,n,a){if(!t){n(a(r));return}var i=Hc(n),s={announce:i};t(r,s),i.wasCalled()||n(a(r))},Uc=function(e,t){var r=$c(),n=null,a=function(p,h){n&&w(),lt("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var m={draggableId:p,mode:h};g(m)}})},i=function(p,h){n&&w(),lt("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(Lt(p,h))})},s=function(p,h){n&&w();var g=Lt(p,h);n={mode:h,lastCritical:p,lastLocation:g.source,lastCombine:null},r.add(function(){lt("onDragStart",function(){return Rr(e().onDragStart,g,t,Vt.onDragStart)})})},o=function(p,h){var g=dn(h),m=gr(h);n||w();var b=!Vc(p,n.lastCritical);b&&(n.lastCritical=p);var y=!Gc(n.lastLocation,g);y&&(n.lastLocation=g);var x=!Wc(n.lastCombine,m);if(x&&(n.lastCombine=m),!(!b&&!y&&!x)){var C=T({},Lt(p,n.mode),{combine:m,destination:g});r.add(function(){lt("onDragUpdate",function(){return Rr(e().onDragUpdate,C,t,Vt.onDragUpdate)})})}},l=function(){n||w(),r.flush()},c=function(p){n||w(),n=null,lt("onDragEnd",function(){return Rr(e().onDragEnd,p,t,Vt.onDragEnd)})},d=function(){if(n){var p=T({},Lt(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(p)}};return{beforeCapture:a,beforeStart:i,start:s,update:o,flush:l,drop:c,abort:d}},zc=function(e,t){var r=Uc(e,t);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var s=i.payload.critical;r.beforeStart(s,i.payload.movementMode),a(i),r.start(s,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var o=i.payload.completed.result;r.flush(),a(i),r.drop(o);return}if(a(i),i.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}},Kc=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&w(),e.dispatch(vn({completed:n.completed}))}}},qc=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(Pi())}};r=requestAnimationFrame(function(){r=null,t=xe(window,[s])})}}}},Yc=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},Xc=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Jc=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},_c=function(e){return function(t){return function(r){return function(n){if(Jc(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&w(),e.start(a);return}r(n),e.scroll(t.getState())}}}},Zc=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Ei({reason:n.reason})))}}}},Qc=ka,ed=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,s=e.autoScroller;return Ma(dc,Qc(Hs(Pc(n),Yc(t),Ec(t),jc,Kc,qc,Zc,_c(s),Lc,Xc(r),zc(a,i))))},Or=function(){return{additions:{},removals:{},modified:{}}};function td(e){var t=e.registry,r=e.callbacks,n=Or(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var d=n,u=d.additions,p=d.removals,h=d.modified,g=Object.keys(u).map(function(y){return t.draggable.getById(y).getDimension(ie)}).sort(function(y,x){return y.descriptor.index-x.descriptor.index}),m=Object.keys(h).map(function(y){var x=t.droppable.getById(y),C=x.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:C}}),b={additions:g,removals:Object.keys(p),modified:m};n=Or(),r.publish(b)}))},s=function(d){var u=d.descriptor.id;n.additions[u]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},o=function(d){var u=d.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},l=function(){a&&(cancelAnimationFrame(a),a=null,n=Or())};return{add:s,remove:o,stop:l}}var Oi=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=fe({x:r,y:t},{x:a,y:n}),s={x:Math.max(0,i.x),y:Math.max(0,i.y)};return s},Ti=function(){var e=document.documentElement;return e||w(),e},Bi=function(){var e=Ti(),t=Oi({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},rd=function(){var e=Ri(),t=Bi(),r=e.y,n=e.x,a=Ti(),i=a.clientWidth,s=a.clientHeight,o=n+i,l=r+s,c=Ee({top:r,left:n,right:o,bottom:l}),d={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:ie,displacement:ie}}};return d},nd=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=rd(),i=a.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(i,r)}),l=n.draggable.getAllByType(t.draggable.type).map(function(u){return u.getDimension(i)}),c={draggables:li(l),droppables:oi(o)},d={dimensions:c,critical:t,viewport:a};return d};function ca(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var ad=function(e,t){var r=null,n=td({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(h,g){e.droppable.exists(h)||w(),r&&t.updateDroppableIsEnabled({id:h,isEnabled:g})},i=function(h,g){r&&(e.droppable.exists(h)||w(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:g}))},s=function(h,g){r&&(e.droppable.exists(h)||w(),t.updateDroppableScroll({id:h,newScroll:g}))},o=function(h,g){r&&e.droppable.getById(h).callbacks.scroll(g)},l=function(){if(r){n.stop();var h=r.critical.droppable;e.droppable.getAllByType(h.type).forEach(function(g){return g.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(h){r||w();var g=r.critical.draggable;h.type==="ADDITION"&&ca(e,g,h.value)&&n.add(h.value),h.type==="REMOVAL"&&ca(e,g,h.value)&&n.remove(h.value)},d=function(h){r&&w();var g=e.draggable.getById(h.draggableId),m=e.droppable.getById(g.descriptor.droppableId),b={draggable:g.descriptor,droppable:m.descriptor},y=e.subscribe(c);return r={critical:b,unsubscribe:y},nd({critical:b,registry:e,scrollOptions:h.scrollOptions})},u={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:o,updateDroppableScroll:s,startPublishing:d,stopPublishing:l};return u},ji=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},id=function(e){window.scrollBy(e.x,e.y)},sd=ae(function(e){return fr(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),od=function(t,r){var n=He(sd(r),function(a){return a.frame||w(),bi(a.frame.pageMarginBox)(t)});return n},ld=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var i=od(t,n);return i},Fe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},cd=function(e,t){var r=e[t.size]*Fe.startFromPercentage,n=e[t.size]*Fe.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},Mi=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var i=n-t,s=i/a;return s},Cn=1,dd=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Fe.maxPixelScroll;if(e===t.startScrollingFrom)return Cn;var r=Mi({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=Fe.maxPixelScroll*Fe.ease(n);return Math.ceil(a)},da=Fe.durationDampening.accelerateAt,ua=Fe.durationDampening.stopDampeningAt,ud=function(e,t){var r=t,n=ua,a=Date.now(),i=a-r;if(i>=ua)return e;if(i<da)return Cn;var s=Mi({startOfRange:da,endOfRange:n,current:i}),o=e*Fe.ease(s);return Math.ceil(o)},pa=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=dd(t,r);return i===0?0:a?Math.max(ud(i,n),Cn):i},ha=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,s=cd(t,a),o=r[a.end]<r[a.start];return o?pa({distanceToEdge:r[a.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i}):-1*pa({distanceToEdge:r[a.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i})},pd=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},hd=ii(function(e){return e===0?0:e}),ki=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,s={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},o=ha({container:r,distanceToEdges:s,dragStartTime:t,axis:un,shouldUseTimeDampening:i}),l=ha({container:r,distanceToEdges:s,dragStartTime:t,axis:ui,shouldUseTimeDampening:i}),c=hd({x:l,y:o});if(ke(c,ie))return null;var d=pd({container:r,subject:n,proposedScroll:c});return d?ke(d,ie)?null:d:null},fd=ii(function(e){return e===0?0:e>0?1:-1}),xn=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,i=le(r,a),s={x:e(i.x,n.x),y:e(i.y,n.y)};return ke(s,ie)?null:s}}(),Fi=function(t){var r=t.max,n=t.current,a=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},s=fd(a),o=xn({max:i,current:n,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},Sn=function(t,r){return Fi({current:t.scroll.current,max:t.scroll.max,change:r})},gd=function(t,r){if(!Sn(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return xn({current:a,max:n,change:r})},In=function(t,r){var n=t.frame;return n?Fi({current:n.scroll.current,max:n.scroll.max,change:r}):!1},md=function(t,r){var n=t.frame;return!n||!In(t,r)?null:xn({current:n.scroll.current,max:n.scroll.max,change:r})},vd=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=ki({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return s&&Sn(t,s)?s:null},bd=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var o=ki({dragStartTime:a,container:s.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return o&&In(t,o)?o:null},fa=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,s=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id],l=o.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,d=vd({dragStartTime:r,viewport:c,subject:l,center:s,shouldUseTimeDampening:n});if(d){a(d);return}}var u=ld({center:s,destination:ge(t.impact),droppables:t.dimensions.droppables});if(u){var p=bd({dragStartTime:r,droppable:u,subject:l,center:s,shouldUseTimeDampening:n});p&&i(u.descriptor.id,p)}},yd=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ft(t),a=ft(r),i=null,s=function(d){i||w();var u=i,p=u.shouldUseTimeDampening,h=u.dragStartTime;fa({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:h,shouldUseTimeDampening:p})},o=function(d){i&&w();var u=Date.now(),p=!1,h=function(){p=!0};fa({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),i={dragStartTime:u,shouldUseTimeDampening:p},p&&s(d)},l=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:o,stop:l,scroll:s}},Cd=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(c,d){var u=le(c.current.client.selection,d);t({client:u})},i=function(c,d){if(!In(c,d))return d;var u=md(c,d);if(!u)return r(c.descriptor.id,d),null;var p=fe(d,u);r(c.descriptor.id,p);var h=fe(d,p);return h},s=function(c,d,u){if(!c||!Sn(d,u))return u;var p=gd(d,u);if(!p)return n(u),null;var h=fe(u,p);n(h);var g=fe(u,h);return g},o=function(c){var d=c.scrollJumpRequest;if(d){var u=ge(c.impact);u||w();var p=i(c.dimensions.droppables[u],d);if(p){var h=c.viewport,g=s(c.isWindowScrollAllowed,h,p);g&&a(c,g)}}};return o},xd=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=yd({scrollWindow:r,scrollDroppable:t}),i=Cd({move:n,scrollWindow:r,scrollDroppable:t}),s=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},o={scroll:s,start:a.start,stop:a.stop};return o},tt="data-rbd",rt=function(){var e=tt+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Ur=function(){var e=tt+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Sd=function(){var e=tt+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ga={contextId:tt+"-scroll-container-context-id"},Id=function(t){return function(r){return"["+r+'="'+t+'"]'}},ct=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},wd="pointer-events: none;",Dd=function(e){var t=Id(e),r=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(rt.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:wd,dropAnimating:o}}}(),n=function(){var o=`
      transition: `+pt.outOfTheWay+`;
    `;return{selector:t(Ur.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),a={selector:t(Sd.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[n,r,a,i];return{always:ct(s,"always"),resting:ct(s,"resting"),dragging:ct(s,"dragging"),dropAnimating:ct(s,"dropAnimating"),userCancel:ct(s,"userCancel")}},me=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,Tr=function(){var t=document.querySelector("head");return t||w(),t},ma=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Ad(e,t){var r=G(function(){return Dd(e)},[e]),n=v.useRef(null),a=v.useRef(null),i=O(ae(function(u){var p=a.current;p||w(),p.textContent=u}),[]),s=O(function(u){var p=n.current;p||w(),p.textContent=u},[]);me(function(){!n.current&&!a.current||w();var u=ma(t),p=ma(t);return n.current=u,a.current=p,u.setAttribute(tt+"-always",e),p.setAttribute(tt+"-dynamic",e),Tr().appendChild(u),Tr().appendChild(p),s(r.always),i(r.resting),function(){var h=function(m){var b=m.current;b||w(),Tr().removeChild(b),m.current=null};h(n),h(a)}},[t,s,i,r.always,r.resting,e]);var o=O(function(){return i(r.dragging)},[i,r.dragging]),l=O(function(u){if(u==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),c=O(function(){a.current&&i(r.resting)},[i,r.resting]),d=G(function(){return{dragging:o,dropping:l,resting:c}},[o,l,c]);return d}var Li=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function br(e){return e instanceof Li(e).HTMLElement}function Ed(e,t){var r="["+rt.contextId+'="'+e+'"]',n=si(document.querySelectorAll(r));if(!n.length)return null;var a=He(n,function(i){return i.getAttribute(rt.draggableId)===t});return!a||!br(a)?null:a}function Pd(e){var t=v.useRef({}),r=v.useRef(null),n=v.useRef(null),a=v.useRef(!1),i=O(function(p,h){var g={id:p,focus:h};return t.current[p]=g,function(){var b=t.current,y=b[p];y!==g&&delete b[p]}},[]),s=O(function(p){var h=Ed(e,p);h&&h!==document.activeElement&&h.focus()},[e]),o=O(function(p,h){r.current===p&&(r.current=h)},[]),l=O(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&s(p)}))},[s]),c=O(function(p){r.current=null;var h=document.activeElement;h&&h.getAttribute(rt.draggableId)===p&&(r.current=p)},[]);me(function(){return a.current=!0,function(){a.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var d=G(function(){return{register:i,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:o}},[i,c,l,o]);return d}function Nd(){var e={draggables:{},droppables:{}},t=[];function r(u){return t.push(u),function(){var h=t.indexOf(u);h!==-1&&t.splice(h,1)}}function n(u){t.length&&t.forEach(function(p){return p(u)})}function a(u){return e.draggables[u]||null}function i(u){var p=a(u);return p||w(),p}var s={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,h){var g=e.draggables[h.descriptor.id];g&&g.uniqueId===p.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var h=p.descriptor.id,g=a(h);g&&p.uniqueId===g.uniqueId&&(delete e.draggables[h],n({type:"REMOVAL",value:p}))},getById:i,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return _t(e.draggables).filter(function(h){return h.descriptor.type===p})}};function o(u){return e.droppables[u]||null}function l(u){var p=o(u);return p||w(),p}var c={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var h=o(p.descriptor.id);h&&p.uniqueId===h.uniqueId&&delete e.droppables[p.descriptor.id]},getById:l,findById:o,exists:function(p){return!!o(p)},getAllByType:function(p){return _t(e.droppables).filter(function(h){return h.descriptor.type===p})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:c,subscribe:r,clean:d}}function Rd(){var e=G(Nd,[]);return v.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var wn=P.createContext(null),Qt=function(){var e=document.body;return e||w(),e},Od={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Td=function(t){return"rbd-announcement-"+t};function Bd(e){var t=G(function(){return Td(e)},[e]),r=v.useRef(null);v.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),T(i.style,Od),Qt().appendChild(i),function(){setTimeout(function(){var l=Qt();l.contains(i)&&l.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=O(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var jd=0,Md={separator:"::"};function Dn(e,t){return t===void 0&&(t=Md),G(function(){return""+e+t.separator+jd++},[t.separator,e])}function kd(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function Fd(e){var t=e.contextId,r=e.text,n=Dn("hidden-text",{separator:"-"}),a=G(function(){return kd({contextId:t,uniqueId:n})},[n,t]);return v.useEffect(function(){var s=document.createElement("div");return s.id=a,s.textContent=r,s.style.display="none",Qt().appendChild(s),function(){var l=Qt();l.contains(s)&&l.removeChild(s)}},[a,r]),a}var yr=P.createContext(null);function Hi(e){var t=v.useRef(e);return v.useEffect(function(){t.current=e}),t}function Ld(){var e=null;function t(){return!!e}function r(s){return s===e}function n(s){e&&w();var o={abandon:s};return e=o,o}function a(){e||w(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}var Hd=9,$d=13,An=27,$i=32,Gd=33,Wd=34,Vd=35,Ud=36,zd=37,Kd=38,qd=39,Yd=40,Ht,Xd=(Ht={},Ht[$d]=!0,Ht[Hd]=!0,Ht),Gi=function(e){Xd[e.keyCode]&&e.preventDefault()},Cr=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=He(t,function(n){return"on"+n in document});return r||e}(),Wi=0,va=5;function Jd(e,t){return Math.abs(t.x-e.x)>=va||Math.abs(t.y-e.y)>=va}var ba={type:"IDLE"};function _d(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(s){var o=s.button,l=s.clientX,c=s.clientY;if(o===Wi){var d={x:l,y:c},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(d);return}u.type!=="PENDING"&&w();var p=u.point;if(Jd(p,d)){s.preventDefault();var h=u.actions.fluidLift(d);a({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(s){var o=n();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(s){n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var o=n();if(o.type==="PENDING"){t();return}if(s.keyCode===An){s.preventDefault(),t();return}Gi(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var o=n();if(o.type==="IDLE"&&w(),o.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:Cr,fn:t}]}function Zd(e){var t=v.useRef(ba),r=v.useRef(Me),n=G(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===Wi&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var p=e.findClosestDraggableId(u);if(p){var h=e.tryGetLock(p,s,{sourceEvent:u});if(h){u.preventDefault();var g={x:u.clientX,y:u.clientY};r.current(),c(h,g)}}}}}},[e]),a=G(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var p=e.findClosestDraggableId(u);if(p){var h=e.findOptionsForDraggable(p);h&&(h.shouldRespectForcePress||e.canGetLock(p)&&u.preventDefault())}}}}},[e]),i=O(function(){var u={passive:!1,capture:!0};r.current=xe(window,[a,n],u)},[a,n]),s=O(function(){var d=t.current;d.type!=="IDLE"&&(t.current=ba,r.current(),i())},[i]),o=O(function(){var d=t.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),l=O(function(){var u={capture:!0,passive:!1},p=_d({cancel:o,completed:s,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});r.current=xe(window,p,u)},[o,s]),c=O(function(u,p){t.current.type!=="IDLE"&&w(),t.current={type:"PENDING",point:p,actions:u},l()},[l]);me(function(){return i(),function(){r.current()}},[i])}var _e;function Qd(){}var eu=(_e={},_e[Wd]=!0,_e[Gd]=!0,_e[Ud]=!0,_e[Vd]=!0,_e);function tu(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===An){i.preventDefault(),r();return}if(i.keyCode===$i){i.preventDefault(),n();return}if(i.keyCode===Yd){i.preventDefault(),e.moveDown();return}if(i.keyCode===Kd){i.preventDefault(),e.moveUp();return}if(i.keyCode===qd){i.preventDefault(),e.moveRight();return}if(i.keyCode===zd){i.preventDefault(),e.moveLeft();return}if(eu[i.keyCode]){i.preventDefault();return}Gi(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Cr,fn:r}]}function ru(e){var t=v.useRef(Qd),r=G(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==$i)return;var s=e.findClosestDraggableId(i);if(!s)return;var o=e.tryGetLock(s,d,{sourceEvent:i});if(!o)return;i.preventDefault();var l=!0,c=o.snapLift();t.current();function d(){l||w(),l=!1,t.current(),n()}t.current=xe(window,tu(c,d),{capture:!0,passive:!1})}}},[e]),n=O(function(){var i={passive:!1,capture:!0};t.current=xe(window,[r],i)},[r]);me(function(){return n(),function(){t.current()}},[n])}var Br={type:"IDLE"},nu=120,au=.15;function iu(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===An&&a.preventDefault(),t()}},{eventName:Cr,fn:t}]}function su(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var o=i.touches[0],l=o.clientX,c=o.clientY,d={x:l,y:c};i.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var s=n();s.type==="IDLE"&&w();var o=i.touches[0];if(o){var l=o.force>=au;if(l){var c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&t();return}if(c){if(s.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Cr,fn:t}]}function ou(e){var t=v.useRef(Br),r=v.useRef(Me),n=O(function(){return t.current},[]),a=O(function(h){t.current=h},[]),i=G(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var g=e.findClosestDraggableId(h);if(g){var m=e.tryGetLock(g,o,{sourceEvent:h});if(m){var b=h.touches[0],y=b.clientX,x=b.clientY,C={x:y,y:x};r.current(),u(m,C)}}}}}},[e]),s=O(function(){var h={capture:!0,passive:!1};r.current=xe(window,[i],h)},[i]),o=O(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),a(Br),r.current(),s())},[s,a]),l=O(function(){var p=t.current;o(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[o]),c=O(function(){var h={capture:!0,passive:!1},g={cancel:l,completed:o,getPhase:n},m=xe(window,su(g),h),b=xe(window,iu(g),h);r.current=function(){m(),b()}},[l,n,o]),d=O(function(){var h=n();h.type!=="PENDING"&&w();var g=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:g,hasMoved:!1})},[n,a]),u=O(function(h,g){n().type!=="IDLE"&&w();var m=setTimeout(d,nu);a({type:"PENDING",point:g,actions:h,longPressTimerId:m}),c()},[c,n,a,d]);me(function(){return s(),function(){r.current();var g=n();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),a(Br))}},[n,s,a]),me(function(){var h=xe(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var lu={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Vi(e,t){if(t==null)return!1;var r=!!lu[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Vi(e,t.parentElement)}function cu(e,t){var r=t.target;return br(r)?Vi(e,r):!1}var du=function(e){return Ee(e.getBoundingClientRect()).center};function uu(e){return e instanceof Li(e).Element}var pu=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=He(t,function(n){return n in Element.prototype});return r||e}();function Ui(e,t){return e==null?null:e[pu](t)?e:Ui(e.parentElement,t)}function hu(e,t){return e.closest?e.closest(t):Ui(e,t)}function fu(e){return"["+rt.contextId+'="'+e+'"]'}function gu(e,t){var r=t.target;if(!uu(r))return null;var n=fu(e),a=hu(r,n);return!a||!br(a)?null:a}function mu(e,t){var r=gu(e,t);return r?r.getAttribute(rt.draggableId):null}function vu(e,t){var r="["+Ur.contextId+'="'+e+'"]',n=si(document.querySelectorAll(r)),a=He(n,function(i){return i.getAttribute(Ur.id)===t});return!a||!br(a)?null:a}function bu(e){e.preventDefault()}function $t(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function zi(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!ji(r.getState(),a))}function yu(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,s=e.forceSensorStop,o=e.sourceEvent,l=zi({lockAPI:t,store:n,registry:a,draggableId:i});if(!l)return null;var c=a.draggable.getById(i),d=vu(r,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&cu(d,o))return null;var u=t.claim(s||Me),p="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function g(){return t.isActive(u)}function m(R,k){$t({expected:R,phase:p,isLockActive:g,shouldWarn:!0})&&n.dispatch(k())}var b=m.bind(null,"DRAGGING");function y(R){function k(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(k(),p!=="PRE_DRAG"&&w()),n.dispatch(pc(R.liftActionArgs)),p="DRAGGING";function L(j,W){if(W===void 0&&(W={shouldBlockNextClick:!1}),R.cleanup(),W.shouldBlockNextClick){var M=xe(window,[{eventName:"click",fn:bu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}k(),n.dispatch(Ei({reason:j}))}return T({isActive:function(){return $t({expected:"DRAGGING",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(W){return L("DROP",W)},cancel:function(W){return L("CANCEL",W)}},R.actions)}function x(R){var k=ft(function(j){b(function(){return Ai({client:j})})}),L=y({liftActionArgs:{id:i,clientSelection:R,movementMode:"FLUID"},cleanup:function(){return k.cancel()},actions:{move:k}});return T({},L,{move:k})}function C(){var R={moveUp:function(){return b(xc)},moveRight:function(){return b(Ic)},moveDown:function(){return b(Sc)},moveLeft:function(){return b(wc)}};return y({liftActionArgs:{id:i,clientSelection:du(d),movementMode:"SNAP"},cleanup:Me,actions:R})}function S(){var R=$t({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!0});R&&t.release()}var N={isActive:function(){return $t({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:x,snapLift:C,abort:S};return N}var Cu=[Zd,ru,ou];function xu(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?Cu:[],a||[]),o=v.useState(function(){return Ld()})[0],l=O(function(x,C){x.isDragging&&!C.isDragging&&o.tryAbandon()},[o]);me(function(){var x=r.getState(),C=r.subscribe(function(){var S=r.getState();l(x,S),x=S});return C},[o,r,l]),me(function(){return o.tryAbandon},[o.tryAbandon]);for(var c=O(function(y){return zi({lockAPI:o,registry:n,store:r,draggableId:y})},[o,n,r]),d=O(function(y,x,C){return yu({lockAPI:o,registry:n,contextId:t,store:r,draggableId:y,forceSensorStop:x,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null})},[t,o,n,r]),u=O(function(y){return mu(t,y)},[t]),p=O(function(y){var x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),h=O(function(){o.isClaimed()&&(o.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(mn()))},[o,r]),g=O(o.isClaimed,[o]),m=G(function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:g}},[c,d,u,p,h,g]),b=0;b<s.length;b++)s[b](m)}var Su=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function dt(e){return e.current||w(),e.current}function Iu(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,s=v.useRef(null),o=Hi(e),l=O(function(){return Su(o.current)},[o]),c=Bd(t),d=Fd({contextId:t,text:i}),u=Ad(t,a),p=O(function(j){dt(s).dispatch(j)},[]),h=G(function(){return Gn({publishWhileDragging:fc,updateDroppableScroll:mc,updateDroppableIsEnabled:vc,updateDroppableIsCombineEnabled:bc,collectionStarting:gc},p)},[p]),g=Rd(),m=G(function(){return ad(g,h)},[g,h]),b=G(function(){return xd(T({scrollWindow:id,scrollDroppable:m.scrollDroppable},Gn({move:Ai},p)))},[m.scrollDroppable,p]),y=Pd(t),x=G(function(){return ed({announce:c,autoScroller:b,dimensionMarshal:m,focusMarshal:y,getResponders:l,styleMarshal:u})},[c,b,m,y,l,u]);s.current=x;var C=O(function(){var j=dt(s),W=j.getState();W.phase!=="IDLE"&&j.dispatch(mn())},[]),S=O(function(){var j=dt(s).getState();return j.isDragging||j.phase==="DROP_ANIMATING"},[]),N=G(function(){return{isDragging:S,tryAbort:C}},[S,C]);r(N);var R=O(function(j){return ji(dt(s).getState(),j)},[]),k=O(function(){return We(dt(s).getState())},[]),L=G(function(){return{marshal:m,focus:y,contextId:t,canLift:R,isMovementAllowed:k,dragHandleUsageInstructionsId:d,registry:g}},[t,m,d,y,R,k,g]);return xu({contextId:t,store:x,registry:g,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(function(){return C},[C]),P.createElement(yr.Provider,{value:L},P.createElement(Us,{context:wn,store:x},e.children))}var wu=0;function Du(){return G(function(){return""+wu++},[])}function Au(e){var t=Du(),r=e.dragHandleUsageInstructions||Vt.dragHandleUsageInstructions;return P.createElement(rl,null,function(n){return P.createElement(Iu,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Ki=function(t){return function(r){return t===r}},Eu=Ki("scroll"),Pu=Ki("auto"),ya=function(t,r){return r(t.overflowX)||r(t.overflowY)},Nu=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return ya(n,Eu)||ya(n,Pu)},Ru=function(){return!1},Ou=function e(t){return t==null?null:t===document.body?Ru()?t:null:t===document.documentElement?null:Nu(t)?t:e(t.parentElement)},zr=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Tu=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},Bu=function(e){var t=Ou(e),r=Tu(e);return{closestScrollable:t,isFixedOnPage:r}},ju=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,s=e.client,o=e.page,l=e.closest,c=function(){if(!l)return null;var h=l.scrollSize,g=l.client,m=Oi({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:m,diff:{value:ie,displacement:ie}}}}(),d=i==="vertical"?un:ui,u=et({page:o,withPlaceholder:null,axis:d,frame:c}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:d,isEnabled:r,client:s,page:o,frame:c,subject:u};return p},Mu=function(t,r){var n=ti(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,s=a+r.scrollHeight,o=i+r.scrollWidth,l={top:a,right:o,bottom:s,left:i},c=sn(l,n.border),d=on({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return d},ku=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,s=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,d=Mu(t,c),u=Yt(d,a),p=function(){if(!c)return null;var g=ti(c),m={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:g,page:Yt(g,a),scroll:zr(c),scrollSize:m,shouldClipSubject:l}}(),h=ju({descriptor:r,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:u,closest:p});return h},Fu={passive:!1},Lu={passive:!0},Ca=function(e){return e.shouldPublishImmediately?Fu:Lu};function er(e){var t=v.useContext(e);return t||w(),t}var Gt=function(t){return t&&t.env.closestScrollable||null};function Hu(e){var t=v.useRef(null),r=er(yr),n=Dn("droppable"),a=r.registry,i=r.marshal,s=Hi(e),o=G(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=v.useRef(o),c=G(function(){return ae(function(S,N){t.current||w();var R={x:S,y:N};i.updateDroppableScroll(o.id,R)})},[o.id,i]),d=O(function(){var S=t.current;return!S||!S.env.closestScrollable?ie:zr(S.env.closestScrollable)},[]),u=O(function(){var S=d();c(S.x,S.y)},[d,c]),p=G(function(){return ft(u)},[u]),h=O(function(){var S=t.current,N=Gt(S);S&&N||w();var R=S.scrollOptions;if(R.shouldPublishImmediately){u();return}p()},[p,u]),g=O(function(S,N){t.current&&w();var R=s.current,k=R.getDroppableRef();k||w();var L=Bu(k),j={ref:k,descriptor:o,env:L,scrollOptions:N};t.current=j;var W=ku({ref:k,descriptor:o,env:L,windowScroll:S,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),M=L.closestScrollable;return M&&(M.setAttribute(ga.contextId,r.contextId),M.addEventListener("scroll",h,Ca(j.scrollOptions))),W},[r.contextId,o,h,s]),m=O(function(){var S=t.current,N=Gt(S);return S&&N||w(),zr(N)},[]),b=O(function(){var S=t.current;S||w();var N=Gt(S);t.current=null,N&&(p.cancel(),N.removeAttribute(ga.contextId),N.removeEventListener("scroll",h,Ca(S.scrollOptions)))},[h,p]),y=O(function(S){var N=t.current;N||w();var R=Gt(N);R||w(),R.scrollTop+=S.y,R.scrollLeft+=S.x},[]),x=G(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:b,scroll:y}},[b,g,m,y]),C=G(function(){return{uniqueId:n,descriptor:o,callbacks:x}},[x,o,n]);me(function(){return l.current=C.descriptor,a.droppable.register(C),function(){t.current&&b(),a.droppable.unregister(C)}},[x,o,b,C,i,a.droppable]),me(function(){t.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),me(function(){t.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function jr(){}var xa={width:0,height:0,margin:ll},$u=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?xa:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Gu=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,i=$u({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?pt.placeholder:null}};function Wu(e){var t=v.useRef(null),r=O(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,s=e.contextId,o=v.useState(e.animate==="open"),l=o[0],c=o[1];v.useEffect(function(){return l?n!=="open"?(r(),c(!1),jr):t.current?jr:(t.current=setTimeout(function(){t.current=null,c(!1)}),r):jr},[n,l,r]);var d=O(function(p){p.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),u=Gu({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return P.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}var Vu=P.memo(Wu),En=P.createContext(null),Uu=function(e){ja(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(P.PureComponent),Sa={dragging:5e3,dropAnimating:4500},zu=function(t,r){return r?pt.drop(r.duration):t?pt.snap:pt.fluid},Ku=function(t,r){return t?r?bt.opacity.drop:bt.opacity.combining:null},qu=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Yu(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,i=e.dropping,s=!!a,o=qu(e),l=!!i,c=l?Wr.drop(n,s):Wr.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:zu(o,i),transform:c,opacity:Ku(s,l),zIndex:l?Sa.dropAnimating:Sa.dragging,pointerEvents:"none"};return d}function Xu(e){return{transform:Wr.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Ju(e){return e.type==="DRAGGING"?Yu(e):Xu(e)}function _u(e,t,r){r===void 0&&(r=ie);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=ei(a,n),s=Yt(i,r),o={client:i,tagName:t.tagName.toLowerCase(),display:n.display},l={x:i.marginBox.width,y:i.marginBox.height},c={descriptor:e,placeholder:o,displaceBy:l,client:i,page:s};return c}function Zu(e){var t=Dn("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,o=e.isEnabled,l=G(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:o}},[i,o,s]),c=O(function(h){var g=a();return g||w(),_u(r,g,h)},[r,a]),d=G(function(){return{uniqueId:t,descriptor:r,options:l,getDimension:c}},[r,c,l,t]),u=v.useRef(d),p=v.useRef(!0);me(function(){return n.draggable.register(u.current),function(){return n.draggable.unregister(u.current)}},[n.draggable]),me(function(){if(p.current){p.current=!1;return}var h=u.current;u.current=d,n.draggable.update(d,h)},[d,n.draggable])}function Qu(e){e.preventDefault()}function ep(e){var t=v.useRef(null),r=O(function(j){t.current=j},[]),n=O(function(){return t.current},[]),a=er(yr),i=a.contextId,s=a.dragHandleUsageInstructionsId,o=a.registry,l=er(En),c=l.type,d=l.droppableId,u=G(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}},[e.draggableId,e.index,c,d]),p=e.children,h=e.draggableId,g=e.isEnabled,m=e.shouldRespectForcePress,b=e.canDragInteractiveElements,y=e.isClone,x=e.mapped,C=e.dropAnimationFinished;if(!y){var S=G(function(){return{descriptor:u,registry:o,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:m,isEnabled:g}},[u,o,n,b,m,g]);Zu(S)}var N=G(function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Qu}:null},[i,s,h,g]),R=O(function(j){x.type==="DRAGGING"&&x.dropping&&j.propertyName==="transform"&&C()},[C,x]),k=G(function(){var j=Ju(x),W=x.type==="DRAGGING"&&x.dropping?R:null,M={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:j,onTransitionEnd:W},dragHandleProps:N};return M},[i,N,h,x,R,r]),L=G(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return p(k,x.snapshot,L)}var qi=function(e,t){return e===t},Yi=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},tp=function(t){return t.combine?t.combine.draggableId:null},rp=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function np(){var e=ae(function(a,i){return{x:a,y:i}}),t=ae(function(a,i,s,o,l){return{isDragging:!0,isClone:i,isDropAnimating:!!l,dropAnimation:l,mode:a,draggingOver:s,combineWith:o,combineTargetFor:null}}),r=ae(function(a,i,s,o,l,c,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:i,offset:a,dimension:s,forceShouldAnimate:d,snapshot:t(i,o,l,c,null)}}}),n=function(i,s){if(i.isDragging){if(i.critical.draggable.id!==s.draggableId)return null;var o=i.current.client.offset,l=i.dimensions.draggables[s.draggableId],c=ge(i.impact),d=rp(i.impact),u=i.forceShouldAnimate;return r(e(o.x,o.y),i.movementMode,l,s.isClone,c,d,u)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==s.draggableId)return null;var h=s.isClone,g=i.dimensions.draggables[s.draggableId],m=p.result,b=m.mode,y=Yi(m),x=tp(m),C=i.dropDuration,S={duration:C,curve:bn.drop,moveTo:i.newHomeClientOffset,opacity:x?bt.opacity.drop:null,scale:x?bt.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:g,dropping:S,draggingOver:y,combineWith:x,mode:b,forceShouldAnimate:null,snapshot:t(b,h,y,x,S)}}}return null};return n}function Xi(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ap={mapped:{type:"SECONDARY",offset:ie,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Xi(null)}};function ip(){var e=ae(function(s,o){return{x:s,y:o}}),t=ae(Xi),r=ae(function(s,o,l){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:o,shouldAnimateDisplacement:l,snapshot:t(o)}}}),n=function(o){return o?r(ie,o,!0):null},a=function(o,l,c,d){var u=c.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),h=gr(c),g=h&&h.draggableId===o?l:null;if(!u){if(!p)return n(g);if(c.displaced.invisible[o])return null;var m=nt(d.displacedBy.point),b=e(m.x,m.y);return r(b,g,!0)}if(p)return n(g);var y=c.displacedBy.point,x=e(y.x,y.y);return r(x,g,u.shouldAnimate)},i=function(o,l){if(o.isDragging)return o.critical.draggable.id===l.draggableId?null:a(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var c=o.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return i}var sp=function(){var t=np(),r=ip(),n=function(i,s){return t(i,s)||r(i,s)||ap};return n},op={dropAnimationFinished:Pi},lp=Za(sp,op,null,{context:wn,pure:!0,areStatePropsEqual:qi})(ep);function Ji(e){var t=er(En),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:P.createElement(lp,e)}function cp(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return P.createElement(Ji,T({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function dp(e){var t=v.useContext(yr);t||w();var r=t.contextId,n=t.isMovementAllowed,a=v.useRef(null),i=v.useRef(null),s=e.children,o=e.droppableId,l=e.type,c=e.mode,d=e.direction,u=e.ignoreContainerClipping,p=e.isDropDisabled,h=e.isCombineEnabled,g=e.snapshot,m=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,x=O(function(){return a.current},[]),C=O(function(M){a.current=M},[]);O(function(){return i.current},[]);var S=O(function(M){i.current=M},[]),N=O(function(){n()&&b({maxScroll:Bi()})},[n,b]);Hu({droppableId:o,type:l,mode:c,direction:d,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:u,getDroppableRef:x});var R=P.createElement(Uu,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(M){var te=M.onClose,H=M.data,I=M.animate;return P.createElement(Vu,{placeholder:H,onClose:te,innerRef:S,animate:I,contextId:r,onTransitionEnd:N})}),k=G(function(){return{innerRef:C,placeholder:R,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":r}}},[r,o,R,C]),L=m?m.dragging.draggableId:null,j=G(function(){return{droppableId:o,type:l,isUsingCloneFor:L}},[o,L,l]);function W(){if(!m)return null;var M=m.dragging,te=m.render,H=P.createElement(Ji,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(I,B){return te(I,B,M)});return cs.createPortal(H,y())}return P.createElement(En.Provider,{value:j},s(k,g),W())}var Mr=function(t,r){return t===r.droppable.type},Ia=function(t,r){return r.draggables[t.draggable.id]},up=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=T({},t,{shouldAnimatePlaceholder:!1}),n=ae(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),a=ae(function(s,o,l,c,d,u){var p=d.descriptor.id,h=d.descriptor.droppableId===s;if(h){var g=u?{render:u,dragging:n(d.descriptor)}:null,m={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:g}}if(!o)return r;if(!c)return t;var b={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),i=function(o,l){var c=l.droppableId,d=l.type,u=!l.isDropDisabled,p=l.renderClone;if(o.isDragging){var h=o.critical;if(!Mr(d,h))return r;var g=Ia(h,o.dimensions),m=ge(o.impact)===c;return a(c,u,m,m,g,p)}if(o.phase==="DROP_ANIMATING"){var b=o.completed;if(!Mr(d,b.critical))return r;var y=Ia(b.critical,o.dimensions);return a(c,u,Yi(b.result)===c,ge(b.impact)===c,y,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var x=o.completed;if(!Mr(d,x.critical))return r;var C=ge(x.impact)===c,S=!!(x.impact.at&&x.impact.at.type==="COMBINE"),N=x.critical.droppable.id===c;return C?S?t:r:N?t:r}return r};return i},pp={updateViewportMaxScroll:Cc};function hp(){return document.body||w(),document.body}var fp={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:hp},_i=Za(up,pp,null,{context:wn,pure:!0,areStatePropsEqual:qi})(dp);_i.defaultProps=fp;const gp=e=>(v.useEffect(()=>{let t=document.getElementById(e.selection);t!==null&&t.classList.add("selected")},[e.presentImageIndex]),f.jsx(_r.Consumer,{children:t=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`previous-image ${e.isExpandView?"d-none":""}`,children:f.jsx("i",{className:"pi pi-angle-left "+(e.disablePrevious?"disabled":""),style:{fontSize:"1rem",cursor:"pointer"},onClick:e.handlePreviousImage})}),f.jsx(Au,{onDragEnd:r=>e.handleOnDragEnd(r,e.ids),children:f.jsx(_i,{droppableId:"droppableList",type:"droppableListItem",direction:"horizontal",children:r=>f.jsxs("div",{className:`design-tb-content ${e.isExpandView?"expand-view":""}`,ref:r.innerRef,children:[e.thumbnailImages.map((n,a)=>{let i=Object.values(n)[0],s=Object.keys(n)[0];const o=e.selection===s?"selected":"";return f.jsx(cp,{draggableId:s,index:a,children:l=>f.jsxs("div",{ref:l.innerRef,...l.draggableProps,...l.dragHandleProps,children:[f.jsxs("div",{className:"selectedImage",onClick:c=>e.onImgClick(c,s,a),tabIndex:"0",onKeyDown:c=>e.onKeyPressForAccessible(c),id:`image_${a}`,children:[f.jsx("img",{id:s,className:`thumbnail ${o}`,alt:"thumbnail image",src:`data:image/png;base64,${i}`}),!n.isDisabled&&f.jsx("div",{id:"overlay",children:f.jsx("button",{type:"button",className:"disableThumnailImg",onClick:()=>t.handleDisableThumbnails(s),"aria-label":"disable image",title:E.t("device-toolbar.disable-image"),children:f.jsx("i",{className:"pi pi-ban",style:{fontSize:"12px"}})})}),n.isDisabled&&f.jsx("div",{className:"restoreOverlay",children:f.jsxs("button",{type:"button",className:"restoreImage",onClick:()=>t.handleEnableThumbnails(s),children:[f.jsx("i",{className:"pi pi-undo",style:{fontSize:"12px"}})," ",E.t("device-toolbar.enable")]})})]},a),f.jsx("div",{className:"imageName",title:n.name,children:n.name}),l.placeholder]})},s+"_"+a)}),r.placeholder]})})}),f.jsx("div",{className:`next-image ${e.isExpandView?"d-none":""}`,children:f.jsx("i",{className:"pi pi-angle-right "+(e.disableNext?"disabled":""),style:{fontSize:"1rem",cursor:"pointer"},onClick:e.handleNextImage})})]})}));class mp extends v.Component{constructor(r){super(r);D(this,"handleShiftKey",(r,n,a)=>{let i=document.getElementsByClassName("thumbnail"),s=[],o=this.state.presentImageIndex,l=a;if(o>l){let c=o;o=l,l=c}for(let c=o;c<=l;c++)s.push(this.props.ids[c]);console.log(s),this.setState({selectedThumbnails:s});for(let c of i)c.classList.remove("selected");this.state.selectedThumbnails.map(c=>{let d=document.getElementById(c);d!==null&&d.classList.add("selected")})});D(this,"handleCtrlKey",r=>{if(this.state.selectedThumbnails.includes(r)){let n=[...this.state.selectedThumbnails];const a=n.indexOf(r);a>-1&&n.splice(a,1),this.setState({selectedThumbnails:n})}else this.setState({selectedThumbnails:[...this.state.selectedThumbnails,r]})});D(this,"onImgClick",(r,n,a)=>{r.preventDefault(),this.props.onNewSelection(n);let i=document.getElementsByClassName("thumbnail");for(let s of i)s.classList.remove("selected");r.target.classList.add("selected"),this.setState({presentImageIndex:a}),r.ctrlKey?this.handleCtrlKey(n):r.shiftKey?this.handleShiftKey(n,r,a):(this.setState({selectedThumbnails:[n]}),r.target.classList.add("selected")),this.selectActiveRef.current.checked=!1,this.selectDisabledRef.current!==null&&(this.selectDisabledRef.current.checked=!1)});D(this,"handelDeleteImg",r=>{let n=De+"/application/"+this.props.appId+"/images/";pe.delete(n,{data:this.state.selectedThumbnails}).then(()=>{this.props.filterSelection(this.state.selectedThumbnails,r),this.setState({showDeleteDialog:!1}),this.setState({selectedThumbnails:[this.props.ids[0]]}),this.props.onNewSelection(this.props.ids[0])})});D(this,"deleteDialogWidget",r=>{this.setState({showDeleteDialog:r})});D(this,"reorder",(r,n,a)=>{let i=r[n];return r.splice(n,1),r.splice(a,0,i),r});D(this,"handleHotspotReorder",(r,n)=>{let a=this.reorder(n,r.source.index,r.destination.index),i=this.props.allImageHotSpotDetails,s=[];if(a.map((o,l)=>{if(Object.values(o)[0]!==null){let c=i.find(p=>p.imageId===Object.keys(o)[0]),d=c,u={};if(d.navigation!==null){let p=a[l+1]===void 0?null:Object.keys(a[l+1])[0];p!==null?u={imageId:c.imageId,name:d.name,navigation:{[Object.keys(d.navigation)[0]]:{click:p}}}:u={imageId:c.imageId,name:d.name,navigation:null}}s.push(u)}}),s.length>0){const o=De+"/application/"+this.props.appId+"/images/metadata";pe.put(o,s,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then(l=>{console.log(hotSpotObj)}).catch(l=>{console.log(l),this.toast.current.show({severity:"info",summary:"Warning",detail:E.t("controls.hotspot-error-msg"),life:3e3})})}});D(this,"handleOnDragEnd",(r,n)=>{let a=this.reorder(n,r.source.index,r.destination.index),i=this.reorder(this.props.thumbnailImages,r.source.index,r.destination.index);this.handleHotspotReorder(r,this.props.allImageHotSpotIds);let s=this.reorder(this.props.imageids,r.source.index,r.destination.index);this.props.setImageObjArr(i),this.props.setThumbnails(s);const o=De+"/application/"+this.props.appId+"/images/order";return pe.put(o,a,{headers:{"Access-Control-Allow-Headers":"origin x-requested-with, content-type","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Content-Type":"application/json"}}).then(l=>{this.toast.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:E.t("device-toolbar.image-order-success"),life:3e3})})});D(this,"handlePreviousImage",()=>{let r=this.state.presentImageIndex-1;document.getElementById("image_"+r).click(),this.setState({presentImageIndex:r})});D(this,"handleNextImage",()=>{let r=this.state.presentImageIndex+1;document.getElementById("image_"+r).click(),this.setState({presentImageIndex:r})});D(this,"handelExpandView",()=>{this.setState({isExpandView:!this.state.isExpandView})});D(this,"handleDisableSelected",async r=>{const n=`${De}/application/${this.props.appId}/images/metadata`;try{let a=[];this.state.selectedThumbnails.map(l=>{let c={};c.id=l,c.enabled=r;let d=this.props.thumbnailImages.find(u=>Object.keys(u)[0]===l);c.name=d.name,a.push(c)}),await pe.put(n,a,{headers:{"Content-Type":"application/json","if-Match":"abcd"}});const i=await pe.get(n);let s=this.props.thumbnailImages;s.map(l=>{i.data.map(c=>{Object.keys(l)[0]===c.id&&(l.isDisabled=c.enabled===!1)})}),this.props.setImageObjArr(s);let o=r?E.t("device-toolbar.enable-success-msg"):E.t("device-toolbar.disable-success-msg");this.toast.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:o,life:3e3}),this.setState({selectedThumbnails:[this.props.ids[0]]}),this.props.onNewSelection(this.props.ids[0]),this.selectActiveRef.current!==null&&(this.selectActiveRef.current.checked=!1),this.selectDisabledRef.current!==null&&(this.selectDisabledRef.current.checked=!1),this.verifyIfAnyDisabledImages(),this.props.getDisableImage()}catch(a){console.log(a)}});D(this,"handleSelectActive",r=>{let n=this.props.thumbnailImages,a=[];n.map(i=>{if(i.isDisabled===!1)if(r.target.checked)a.push(Object.keys(i)[0]);else{a=this.state.selectedThumbnails;const s=a.indexOf(Object.keys(i)[0]);s>-1&&a.splice(s,1),a=[this.props.ids[0]],this.props.onNewSelection(this.props.ids[0])}}),a.length===0&&r.target.checked?(this.toast.current.show({severity:"warn",detail:E.t("device-toolbar.no-active-img"),life:3e3}),this.selectActiveRef.current.checked=!1,a=[this.props.ids[0]],this.props.onNewSelection(this.props.ids[0])):a=[...a],this.setState({selectedThumbnails:[...new Set(a)]}),this.verifyIfAnyDisabledImages(),this.selectDisabledRef.current!==null&&(this.selectDisabledRef.current.checked=!1)});D(this,"verifyIfAnyDisabledImages",()=>{this.props.thumbnailImages.some(n=>n.isDisabled===!0)?this.setState({disabledCheckbox:!0}):this.setState({disabledCheckbox:!1})});D(this,"handleSelectDisable",r=>{let n=this.props.thumbnailImages;this.setState({selectedThumbnails:[]});let a=[];n.map(i=>{if(i.isDisabled===!0)if(r.target.checked)a.push(Object.keys(i)[0]);else{a=[this.props.ids[0]],this.props.onNewSelection(this.props.ids[0]),a=this.state.selectedThumbnails;const s=a.indexOf(Object.keys(i)[0]);s>-1&&a.splice(s,1)}}),a.length===0&&r.target.checked?(this.toast.current.show({severity:"warn",detail:E.t("device-toolbar.no-disabled-img"),life:3e3}),this.selectDisabledRef.current.checked=!1,a=[this.props.ids[0]],this.props.onNewSelection(this.props.ids[0])):a=[...a],this.setState({selectedThumbnails:[...new Set(a)]}),this.selectActiveRef.current!==null&&(this.selectActiveRef.current.checked=!1)});this.state={showDeleteDialog:!1,presentImageIndex:0,disableNext:!1,disablePrevious:!0,isExpandView:!1,showExpandView:!1,selectactiveThumbnails:!1,selectDisabledThumbnails:!1,selectedThumbnails:[],enableLink:!1,disableLink:!1,disabledCheckbox:!1,allImageDisabledStatus:!1},this.toast=P.createRef(),this.selectActiveRef=v.createRef(),this.selectDisabledRef=v.createRef()}componentDidMount(){this.setState({selectedThumbnails:[this.props.selection]}),this.state.selectedThumbnails.map(r=>{let n=document.getElementById(r);n!==null&&n.classList.add("selected")}),this.props.thumbnailImages.length>1&&(this.props.thumbnailImages.every(n=>n.isDisabled===!0)?this.setState({enableLink:!0,disableLink:!1}):this.setState({enableLink:!1,disableLink:!1}))}componentDidUpdate(r,n){if(setTimeout(()=>{const a=document.getElementById(this.props.selection);a!==null&&a.scrollIntoView({behavior:"smooth",block:"center"})},100),r.thumbnailImages!==this.props.thumbnailImages){const a=document.getElementsByClassName("design-tb-content");a[0].scrollWidth>a[0].clientWidth&&this.setState({showExpandView:!0}),this.setState({presentImageIndex:this.props.imageFocusPoint}),this.props.thumbnailImages.length>1&&this.setState({disableNext:!1}),this.props.thumbnailImages.some(s=>s.isDisabled===!0)&&this.setState({disabledCheckbox:!0})}if(n.presentImageIndex!==this.state.presentImageIndex&&(this.state.presentImageIndex===0?this.setState({disablePrevious:!0,disableNext:!1}):this.state.presentImageIndex>0&&this.setState({disablePrevious:!1,disableNext:!1}),this.props.thumbnailImages.length-1===this.state.presentImageIndex?this.setState({disableNext:!0}):this.setState({disableNext:!1})),r.allImageHotSpotDetails!==this.props.allImageHotSpotDetails&&this.props.allImageHotSpotDetails.some(i=>i.enabled===!1)&&this.setState({disabledCheckbox:!0}),n.selectedThumbnails!==this.state.selectedThumbnails){let a=document.getElementsByClassName("thumbnail");for(let i of a)i.classList.remove("selected");if(this.state.selectedThumbnails.map(i=>{let s=document.getElementById(i);s!==null&&s.classList.add("selected")}),this.state.selectedThumbnails.length>1){let i=this.state.selectedThumbnails.every(o=>this.props.thumbnailImages.find(c=>Object.keys(c)[0]===o).isDisabled===!0),s=this.state.selectedThumbnails.every(o=>this.props.thumbnailImages.find(c=>Object.keys(c)[0]===o).isDisabled===!1);i?this.setState({enableLink:!0,disableLink:!1}):s?this.setState({enableLink:!1,disableLink:!0}):this.setState({enableLink:!1,disableLink:!1})}}r.isAllImagesDisabled!==this.props.isAllImagesDisabled&&this.setState({allImageDisabledStatus:this.props.isAllImagesDisabled})}render(){let r=this.props.selectedImageName,n;return this.state.selectedThumbnails.length>1?n=E.t("device-toolbar.delete-confirm-msg-multiple"):n=E.t("device-toolbar.delete-confirm-msg",{imagename:"<b>"+r+"</b>"}),f.jsxs("div",{className:`thumbnailSection ${this.state.isExpandView?"expand-view-height":"collapse-view-height"}`,children:[f.jsx(St,{ref:this.toast}),f.jsxs("div",{className:"thumbnailSection-header",children:[this.props.minimizeThumbnails&&f.jsxs(f.Fragment,{children:[this.props.thumbnailImages.length>1&&!this.state.allImageDisabledStatus&&f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"checkbox",name:"select-active",id:"select-active",ref:this.selectActiveRef,"aria-label":"select-active",disabled:this.state.isSelectactiveEnabled,onClick:a=>{this.handleSelectActive(a)}}),f.jsx("label",{className:"select-active-label",children:E.t("device-toolbar.select-active")})]}),this.state.disabledCheckbox&&f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"checkbox",name:"select-disabled",id:"select-disabled",defaultChecked:this.state.selectDisabledThumbnails,ref:this.selectDisabledRef,"aria-label":"select disabled",disabled:this.state.isSelectremoveEnabled,onClick:a=>{this.handleSelectDisable(a)}}),f.jsx("label",{className:"select-disabled-label",children:E.t("device-toolbar.select-removed")})]})]}),f.jsxs("div",{className:"expand-view-icon",children:[this.props.minimizeThumbnails&&f.jsxs(f.Fragment,{children:[this.state.selectedThumbnails.length>1&&this.state.enableLink&&f.jsxs("span",{style:{marginRight:"10px",color:"#3b82f6",fontWeight:"500"},onClick:()=>this.handleDisableSelected(!0),children:[f.jsx("i",{className:"pi pi-undo",style:{fontSize:"12px"}}),E.t("device-toolbar.enable")]}),this.state.selectedThumbnails.length>1&&this.state.disableLink&&f.jsxs("span",{style:{marginRight:"10px",color:"#cc8925",fontWeight:"500"},onClick:()=>this.handleDisableSelected(!1),children:[f.jsx("i",{className:"pi pi-ban",style:{fontSize:"12px"}})," ",E.t("device-toolbar.disable")]}),this.state.selectedThumbnails.length>0&&f.jsxs("span",{style:{marginRight:"10px",color:"#A30000",fontWeight:"500"},onClick:()=>this.deleteDialogWidget(!0),children:[f.jsx("i",{className:"pi pi-trash",style:{fontSize:"12px"}})," ",E.t("device-toolbar.delete")]}),f.jsx("i",{className:`fa-solid ${this.state.isExpandView?"fa-down-left-and-up-right-to-center":"fa-up-right-and-down-left-from-center"}`,onClick:this.handelExpandView,style:{visibility:this.state.showExpandView?"visible":"hidden"}})]}),f.jsx("span",{style:{marginLeft:"11px"},children:f.jsx("i",{className:`${this.props.minimizeThumbnails?"fa-solid fa-angles-down":"fa-solid fa-angles-up"}`,onClick:this.props.handleMinimizeView})})]})]}),f.jsxs("div",{className:"design-tb",children:[f.jsx(ds,{title:E.t("device-toolbar.delete-image"),msg:n,icon:!0,visible:this.state.showDeleteDialog,onHide:()=>this.deleteDialogWidget(!1),onConfirm:()=>this.handelDeleteImg(r)}),this.state.isExpandView?f.jsx(ks,{isExpandView:this.state.isExpandView,disablePrevious:this.state.disablePrevious,disableNext:this.state.disableNext,thumbnailImages:this.props.thumbnailImages,ids:this.props.ids,selection:this.props.selection,handlePreviousImage:this.handlePreviousImage,handleOnDragEnd:this.handleOnDragEnd,onKeyPressForAccessible:this.props.onKeyPressForAccessible,handleNextImage:this.handleNextImage,onImgClick:this.onImgClick}):f.jsx(gp,{isExpandView:this.state.isExpandView,disablePrevious:this.state.disablePrevious,disableNext:this.state.disableNext,thumbnailImages:this.props.thumbnailImages,ids:this.props.ids,selection:this.props.selection,handlePreviousImage:this.handlePreviousImage,handleOnDragEnd:this.handleOnDragEnd,onKeyPressForAccessible:this.props.onKeyPressForAccessible,handleNextImage:this.handleNextImage,onImgClick:this.onImgClick})]})]})}}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kr.apply(this,arguments)}function vp(e){if(Array.isArray(e))return e}function bp(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function wa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yp(e,t){if(e){if(typeof e=="string")return wa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wa(e,t)}}function Cp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Da(e,t){return vp(e)||bp(e,t)||yp(e,t)||Cp()}function yt(e){"@babel/helpers - typeof";return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(e)}function xp(e,t){if(yt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sp(e){var t=xp(e,"string");return yt(t)==="symbol"?t:String(t)}function Ip(e,t,r){return t=Sp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kr=xt.extend({defaultProps:{__TYPE:"ConfirmDialog",tagKey:void 0,visible:void 0,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,breakpoints:null,onHide:null,accept:null,reject:null,children:void 0}});function Aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aa(Object(r),!0).forEach(function(n){Ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Pn=v.memo(v.forwardRef(function(e,t){var r=v.useContext(tr),n=kr.getProps(e,r),a=v.useState(n.visible),i=Da(a,2),s=i[0],o=i[1],l=v.useState(!1),c=Da(l,2),d=c[0],u=c[1],p=v.useRef(null),h=v.useRef(!1),g=function(){return p.current||n},m=function(I){return(p.current||n)[I]},b=function(I){for(var B=arguments.length,F=new Array(B>1?B-1:0),V=1;V<B;V++)F[V-1]=arguments[V];return Te.getPropValue(m(I),F)},y=m("acceptLabel")||Lr("accept"),x=m("rejectLabel")||Lr("reject"),C=kr.setMetaData({props:n,state:{visible:s}}),S=C.ptm,N=function(){h.current||(h.current=!0,b("accept"),L("accept"))},R=function(){h.current||(h.current=!0,b("reject"),L("reject"))},k=function(){o(!0),h.current=!1},L=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";o(!1),b("onHide",{result:I})},j=function(I){if(I.tagKey===n.tagKey){var B=s!==I.visible,F=m("target")!==I.target;F&&!n.target?(L(),p.current=I,u(!0)):B&&(p.current=I,I.visible?k():L())}};v.useEffect(function(){n.visible?k():L()},[n.visible]),v.useEffect(function(){return!n.target&&!n.message&&Sr.on("confirm-dialog",j),function(){Sr.off("confirm-dialog",j)}},[n.target]),Wt(function(){d&&k()},[d]),Oa(function(){Sr.off("confirm-dialog",j)}),v.useImperativeHandle(t,function(){return{props:n,confirm:j}});var W=function(){var I=Ae("p-confirm-dialog-accept",m("acceptClassName")),B=Ae("p-confirm-dialog-reject",{"p-button-text":!m("rejectClassName")},m("rejectClassName")),F=J({label:x,icon:m("rejectIcon"),className:B,onClick:R},S("rejectButton")),V=J({label:y,icon:m("acceptIcon"),className:I,onClick:N},S("acceptButton")),z=v.createElement(v.Fragment,null,v.createElement(Ut,F),v.createElement(Ut,Kr({},V,{autoFocus:!0})));if(m("footer")){var Z={accept:N,reject:R,acceptClassName:I,rejectClassName:B,acceptLabel:y,rejectLabel:x,element:z,props:g()};return Te.getJSXElement(m("footer"),Z)}return z},M=function(){var I=g(),B=Ae("p-confirm-dialog",m("className")),F=Te.getJSXElement(m("message"),I),V=J({className:"p-confirm-dialog-icon"},S("icon")),z=Yr.getJSXIcon(m("icon"),wp({},V),{props:I}),Z=W(),Y=J({className:"p-confirm-dialog-message"},S("message")),ee=J({visible:s,className:B,footer:Z,onHide:L,breakpoints:m("breakpoints"),pt:I.pt},kr.getOtherProps(I));return v.createElement(us,ee,z,v.createElement("span",Y,F))},te=M();return v.createElement(Ta,{element:te,appendTo:m("appendTo")})}));Pn.displayName="ConfirmDialog";const Dp="data:image/svg+xml,%3csvg%20id='Loading'%20xmlns='http://www.w3.org/2000/svg'%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%3e%3cg%20id='Group_378'%20data-name='Group%20378'%3e%3cpath%20id='Path_478'%20data-name='Path%20478'%20d='M8.755,12.225c-.006.022.489,1.428.473,1.414a7,7,0,1,1,4.761-6.225c-.018.312-.12.946-.12.946L12.4,8.073s.081-.49.1-.747a5.5,5.5,0,1,0-3.744,4.9Z'%20transform='translate(-0.001%20-0.001)'%20fill='%230066b3'/%3e%3c/g%3e%3c/svg%3e";function qr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ap(e){if(Array.isArray(e))return qr(e)}function Ep(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zi(e,t){if(e){if(typeof e=="string")return qr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qr(e,t)}}function Pp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Np(e){return Ap(e)||Ep(e)||Zi(e)||Pp()}function Ct(e){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(e)}function Rp(e,t){if(Ct(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ct(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Op(e){var t=Rp(e,"string");return Ct(t)==="symbol"?t:String(t)}function Tp(e,t,r){return t=Op(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bp(e){if(Array.isArray(e))return e}function jp(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Mp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ea(e,t){return Bp(e)||jp(e,t)||Zi(e,t)||Mp()}var Fr=xt.extend({defaultProps:{__TYPE:"Accordion",id:null,activeIndex:null,className:null,style:null,multiple:!1,expandIcon:null,collapseIcon:null,transitionOptions:null,onTabOpen:null,onTabClose:null,onTabChange:null,children:void 0}}),Qe=xt.extend({defaultProps:{__TYPE:"AccordionTab",className:null,contentClassName:null,contentStyle:null,disabled:!1,header:null,headerClassName:null,headerStyle:null,headerTemplate:null,style:null,tabIndex:0,children:void 0},getCProp:function(t,r){return Te.getComponentProp(t,r,Qe.defaultProps)},getCProps:function(t){return Te.getComponentProps(t,Qe.defaultProps)},getCOtherProps:function(t){return Te.getComponentDiffProps(t,Qe.defaultProps)}});function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pa(Object(r),!0).forEach(function(n){Tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Qi=function(){},es=v.forwardRef(function(e,t){var r=v.useContext(tr),n=Fr.getProps(e,r),a=v.useState(n.id),i=Ea(a,2),s=i[0],o=i[1],l=v.useState(n.activeIndex),c=Ea(l,2),d=c[0],u=c[1],p=v.useRef(null),h=n.onTabChange?n.activeIndex:d,g={props:n,state:{id:s,activeIndex:d}},m=Fr.setMetaData(Ze({},g)),b=m.ptm,y=m.ptmo,x=function(I,B){return y(C(I,"pt"),B,{props:I.props,parent:g})},C=function(I,B){return Qe.getCProp(I,B)},S=function(I,B,F){if(!C(B,"disabled")){var V=N(F),z=null;if(n.multiple){var Z=h||[];z=V?Z.filter(function(ee){return ee!==F}):[].concat(Np(Z),[F])}else z=V?null:F;var Y=V?n.onTabClose:n.onTabOpen;Y&&Y({originalEvent:I,index:F}),n.onTabChange?n.onTabChange({originalEvent:I,index:z}):u(z)}I.preventDefault()},N=function(I){return n.multiple?h&&h.some(function(B){return B===I}):h===I};if(v.useImperativeHandle(t,function(){return{props:n,getElement:function(){return p.current}}}),Ra(function(){s||o(ps())}),!s)return null;var R=function(I,B,F){var V=Ze(Ze({},C(I,"style")||{}),C(I,"headerStyle")||{}),z=Ae("p-accordion-header",{"p-highlight":B,"p-disabled":C(I,"disabled")},C(I,"headerClassName"),C(I,"className")),Z=s+"_header_"+F,Y=s+"_content_"+F,ee=C(I,"disabled")?-1:C(I,"tabIndex"),_=J({className:"p-accordion-header-text"},x(I,"headertitle")),U=C(I,"headerTemplate")?Te.getJSXElement(C(I,"headerTemplate"),Qe.getCProps(I)):v.createElement("span",_,C(I,"header")),$="p-accordion-toggle-icon",Q=J({className:$},x(I,"headericon")),ce=B?n.collapseIcon||v.createElement(hs,Q):n.expandIcon||v.createElement(fs,Q),be=Yr.getJSXIcon(ce,Ze({},Q),{props:n,selected:B}),ye=B?On("collapseLabel"):On("expandLabel"),Ie=J({className:z,style:V},x(I,"header")),he=J({id:Z,href:"#"+Y,className:"p-accordion-header-link",role:"tab",tabIndex:ee,onClick:function(Re){return S(Re,I,F)},"aria-label":ye,"aria-controls":Y,"aria-expanded":B},x(I,"headeraction"));return v.createElement("div",Ie,v.createElement("a",he,be,U))},k=function(I,B,F){var V=Ze(Ze({},C(I,"style")||{}),C(I,"contentStyle")||{}),z=Ae("p-toggleable-content",C(I,"contentClassName"),C(I,"className")),Z=s+"_content_"+F,Y=s+"_header_"+F,ee=v.createRef(),_=J({id:Z,ref:ee,className:z,style:V,role:"region","aria-labelledby":Y},x(I,"toggleablecontent")),U=J({className:"p-accordion-content"},x(I,"content"));return v.createElement(Ba,{nodeRef:ee,classNames:"p-toggleable-content",timeout:{enter:1e3,exit:450},in:B,unmountOnExit:!0,options:n.transitionOptions},v.createElement("div",_,v.createElement("div",U,C(I,"children"))))},L=function(I,B){if(Te.isValidChild(I,"AccordionTab")){var F=s+"_"+B,V=N(B),z=R(I,V,B),Z=k(I,V,B),Y=Ae("p-accordion-tab",{"p-accordion-tab-active":V}),ee=J({key:F,className:Y},Qe.getCOtherProps(I),x(I,"root"));return v.createElement("div",ee,z,Z)}return null},j=function(){return v.Children.map(n.children,L)},W=Ae("p-accordion p-component",n.className),M=j(),te=J({id:s,ref:p,className:W,style:n.style},Fr.getOtherProps(n),b("root"));return v.createElement("div",te,M)});Qi.displayName="AccordionTab";es.displayName="Accordion";const kp=e=>{const[t,r]=v.useState(e.type),[n,a]=v.useState(e.content),[i,s]=v.useState(e.showContent),[o,l]=v.useState(e.x),[c,d]=v.useState(e.y),[u,p]=v.useState(e.w),[h,g]=v.useState(e.h),[m,b]=v.useState(!1),y=v.useRef(null);v.useEffect(()=>{r(e.type),a(e.content),l(e.x),d(e.y),p(e.w),g(e.h)},[e.isSimilarControl,e.selectedControlArr]);const x=C=>{if(C.preventDefault(),e.selectedControlArr.length===1){let S={x:parseFloat(o),y:parseFloat(c),w:parseFloat(u),h:parseFloat(h)},N={controlType:t,controlContent:n,id:e.control.id,bounds:S};e.saveChanges(N)}else{let S={controlType:t};e.saveChanges(S)}};return f.jsxs(f.Fragment,{children:[f.jsx(St,{ref:y}),f.jsx("div",{className:"cd-container",children:f.jsxs("form",{className:"form",onSubmit:x,children:[f.jsxs("div",{className:"control-type d-flex",children:[f.jsxs("label",{className:"l-controlname",children:[E.t("control-details.type")," "]}),f.jsxs("select",{className:"controlname-input",defaultValue:t,onChange:C=>r(C.target.value),children:[f.jsx("option",{name:"",value:0,children:E.t("control-details.select-control")}),Hr.map((C,S)=>f.jsx("option",{value:C,children:C},S))]})]}),i&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"control-content d-flex",children:[f.jsxs("label",{className:"l-content",children:[E.t("control-details.content")," "]}),f.jsx("input",{type:"text",label:"Control Content",className:"content-input",onChange:C=>a(C.target.value),value:n})]}),f.jsx("div",{className:"moreLink",onClick:()=>b(!m),children:m?"show less":"show more"})]}),m&&f.jsxs("div",{className:"moreSection",children:[f.jsxs("div",{className:"d-flex coordinates",children:[f.jsxs("label",{className:"l-content",children:[E.t("control-details.bounds")," "]}),f.jsx("label",{className:"l-x",children:" X "}),f.jsx("input",{type:"text",className:"x-input",value:Math.round(o),onChange:C=>l(C.target.value)}),f.jsx("label",{className:"l-y",children:" Y "}),f.jsx("input",{type:"text",className:"y-input",value:Math.round(c),onChange:C=>d(C.target.value)})]}),f.jsxs("div",{className:"d-flex coordinates",children:[f.jsxs("label",{className:"l-content",style:{visibility:"hidden"},children:["Bounds"," "]}),f.jsx("label",{className:"l-w",children:" W "}),f.jsx("input",{type:"text",className:"w-input",value:Math.round(u),onChange:C=>p(C.target.value)}),f.jsx("label",{className:"l-h",children:" H "}),f.jsx("input",{type:"text",className:"h-input",value:Math.round(h),onChange:C=>g(C.target.value)})]})]}),f.jsx(Ut,{icon:"pi pi-check",type:"submit",className:"p-button-raised p-button-rounded save",label:"Save"})]})})]})},Na=e=>f.jsx(f.Fragment,{children:f.jsx("i",{className:`fa-solid fa-link link-hotSpot ${e.classNames}`,onClick:e.handler,title:E.t("controls.hotspot")})});class Fp extends v.Component{constructor(r){super(r);D(this,"componentDidUpdate",(r,n)=>{if(r.selection!==this.props.selection){this.getControls(),this.props.getImageMetadata(),this.hotSpotRef.current.checked=!1,this.props.setHotSpotControl(null);let a=this.props.imageids[this.props.imageids.length-1];this.props.selection===a.id?this.setState({isHotspotDisable:!0}):this.setState({isHotspotDisable:!1})}if(r.parentSelectedControlArrState!==this.props.parentSelectedControlArrState||this.props.minimizeThumbnails!==r.minimizeThumbnails){this.setState({selectedControlsArr:[]},()=>this.setState({selectedControlsArr:[...this.props.parentSelectedControlArrState]}));let a=this.state.steps;this.props.parentSelectedControlArrState.map((s,o)=>{a.map((l,c)=>{l.id===s.id&&(l.isChecked=!0,this.setState({scrollViewIndex:c}))})}),this.setState({steps:a})}if(this.scrollToBottom(),n.selectedControlsArr!==this.state.selectedControlsArr){if(this.state.selectedControlsArr.length>0){let a=this.isSimilarControlSelected();this.props.setSimilar(a),this.setActiveIndex(this.props.getcontrolname),a?this.setState({isSimilarDisable:!1,setControlType:this.props.getcontrolname}):(this.setState({isSimilarDisable:!0,setControlType:0,isSimilar:!1}),this.similarBox.current.checked=!1),this.setState({enableActions:!0})}else this.setState({enableActions:!1});this.state.selectedControlsArr.length===1?(this.similarBox.current.checked=!1,this.setState({showContent:!0})):this.setState({showContent:!1})}if(n.scrollViewIndex!==this.state.scrollViewIndex&&setTimeout(()=>{const a=document.getElementById("checkbox_"+this.state.scrollViewIndex);a!==null&&a.scrollIntoView({behavior:"smooth",block:"center"})},500),r.imageMetadata!==this.props.imageMetadata){let a=this.props.imageMetadata.find(i=>this.props.selection===i.id);a!==void 0&&a.enabled?this.setState({isCurrentImageActive:!0}):this.setState({isCurrentImageActive:!1})}});D(this,"setIndexArray",r=>{let n=this.state.activeIndex?[...this.state.activeIndex]:[];(n.length===0||n.indexOf(r)===-1)&&n.push(r),this.setState({activeIndex:n})});D(this,"toggleMinimized",()=>{this.setState({minimized:!this.state.minimized}),this.props.onMinimize(!this.state.minimized)});D(this,"updateCheckboxState",r=>{const n=this.state.steps;n.map((a,i)=>{a.isChecked=r}),this.setState({steps:n})});D(this,"updateSingleCheckbox",(r,n)=>{const a=this.state.steps;a.map((i,s)=>{n===s&&(i.isChecked=r)}),this.setState({steps:a})});D(this,"allClick",r=>{if(this.updateCheckboxState(r.target.checked),this.setState({isSimilarDisable:!0,isSimilar:!1}),this.setState({isallchecked:this.selectAllBox.current.checked}),this.similarBox.current.checked=!1,this.state.isallchecked===!1){let n=this.state.steps,a=[];n.map(i=>{this.state.stepTypeObjArr.map(s=>{i.type===s.name&&(s.isChecked===!0?(i.isChecked=!0,a.push(i)):i.isChecked=!1)})}),this.props.onAllControlSelection(a)}else this.props.onAllControlSelection(null)});D(this,"clearAllfromParent",()=>{this.props.onAllControlSelection(null),this.setState({isSimilarDisable:!0,isallchecked:!1}),this.selectAllBox.current.checked=!1,this.similarBox.current.checked=!1;let r=this.state.steps;r.map((n,a)=>{n.isChecked=!1}),this.setState({steps:r,isSimilar:!1,controlType:[],selectedControlsArr:[]}),this.props.setSimilar(!1)});D(this,"handleDisableSimilar",r=>{this.state.controlType.length===0?(this.setState({controlType:[...this.state.controlType,r]}),this.setState({isSimilarDisable:!1})):this.state.controlType.find(n=>n.name!==r.name)?this.setState({isSimilarDisable:!0}):this.setState({isSimilarDisable:!1})});D(this,"handleCheckbox",(r,n)=>{if(this.updateSingleCheckbox(r.target.checked,n),r.target.checked)this.state.isSimilar&&this.setState({isSimilar:!1}),this.setState({clearall:!1}),this.setState({selectedControlIndex:n}),this.setState({ControlIndex:n}),this.setState({selectedControlsArr:[...this.state.selectedControlsArr,this.state.steps[n]]}),this.props.onControlSelect(this.state.steps[n]);else{let a=this.state.steps[n].id;if(this.state.selectedControlsArr.length>0){this.setState({isallchecked:!1}),this.selectAllBox.current.checked=!1;let i=this.state.selectedControlsArr.filter(s=>s.id!==a);this.setState({selectedControlsArr:[]},()=>this.setState({selectedControlsArr:i})),this.props.onAllControlSelection(i),i.length===0&&this.setState({isSimilarDisable:!0,controlType:[],selectedControlsArr:[]})}}});D(this,"isSimilarControlSelected",()=>{let r=this.state.selectedControlsArr,n=r[0].type;return r.every(function(i){return i.type===n})});D(this,"handleViewSimilar",r=>{if(this.setState({isSimilar:!this.state.isSimilar}),this.similarBox.current.checked){let n=this.state.selectedControlsArr[0],a=[];this.state.steps.map((i,s)=>{n.type===i.type&&a.push(i)}),this.props.onAllControlSelection(a)}else{let n=this.state.steps;n.map((a,i)=>{a.isChecked=!1}),this.setState({steps:n}),this.props.onAllControlSelection(null),this.setState({isSimilarDisable:!0})}});D(this,"truncate",r=>r!=null?r.length>35?r.substring(0,35)+"...":r:"");D(this,"setVisibleRight",r=>{this.setState({visibleRight:r})});D(this,"rejectDelete",()=>{this.toastRef.current.show({severity:"info",summary:"Rejected",detail:E.t("controls.reject-msg"),life:3e3})});D(this,"showDeleteDialogWidget",r=>{this.setState({showDeleteDialog:r})});D(this,"handelDeleteChange",()=>{let r=this.state.steps;this.selectAllBox.current.checked?r=[]:this.state.selectedControlsArr.map((a,i)=>{r.map((s,o)=>{s.id===a.id&&r.splice(o,1)})}),this.setState({selectedControlsArr:r}),r.map((a,i)=>delete a.isChecked);const n=De+"/application/"+this.props.appId+"/images/"+this.props.selection+"/labels";pe.put(n,r,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then(a=>{this.toastRef.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:E.t("controls.delete-success-msg"),life:3e3}),this.getControls(),this.hotSpotRef.current.checked=!1,this.props.setHotSpotControl(null),this.clearAllfromParent(),this.setState({selectedControlsArr:[]})})});D(this,"handleUpdate",r=>{let n=this.state.selectedControlsArr,a=this.state.steps;n.map(i=>{a.map(s=>{n.length===1?s.id===i.id&&(s.content=r.controlContent,s.type=r.controlType,s.bounds=r.bounds):s.id===i.id&&(i.type=r.controlType)})});try{const i=De+"/application/"+this.props.appId+"/images/"+this.props.selection+"/labels";pe.put(i,a,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then(s=>{this.toastRef.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:E.t("controls.update-success-msg"),life:3e3}),this.getControls(),this.clearAllfromParent(),this.setState({selectedControlsArr:[]})})}catch(i){i.response.status===404?console.log("Resource could not be found!"):console.log(i.message)}this.setState({selectedControlsArr:n}),this.setVisibleRight(!1)});D(this,"updateControlDetails",()=>{(this.state.selectedControlsArr.length===1||!this.state.isSimilarDisable)&&this.setState({setControlType:this.state.selectedControlsArr[0].type}),this.setVisibleRight(!0)});D(this,"addControlEnable",()=>{let r={add:!0,highlight:!1,reverseHighlight:!1};this.props.setRegionFrom(r),this.props.setEnableCrop(!0)});D(this,"toggleTypeSection",()=>{this.setState({showControlSelection:!this.state.showControlSelection})});D(this,"cancelTypeSection",()=>{this.setState({showControlSelection:!1})});D(this,"handleTypeSelectionCheckbox",r=>{let n=this.state.stepTypes,a=this.state.stepTypeObjArr,i=this.state.steps,s=this.state.selectedControlsArr;r.target.checked?(this.setState({isallchecked:!1}),this.selectAllBox.current.checked=!1,n.push(r.target.value),n=[...new Set(n.sort())],n.length===a.length&&(this.allComponentCheckbox.current.checked=!0,this.setState({allComponentChecked:!0}))):(n.map((o,l)=>{r.target.value===o&&n.splice(l,1)}),i.map(o=>{o.type===r.target.value&&(o.isChecked=!1)}),s.map((o,l)=>{o.type===r.target.value&&(s=s.filter(c=>c.type!==r.target.value))}),this.setState({isSimilarDisable:!0,isallchecked:!1}),this.selectAllBox.current.checked=!1,this.similarBox.current.checked=!1,this.allComponentCheckbox.current.checked=!1,this.setState({allComponentChecked:!1})),a.map(o=>{o.name===r.target.value&&(o.isChecked=r.target.checked)}),this.setState({stepTypes:n.sort(),stepTypeObjArr:a,steps:i,selectedControlsArr:s}),this.props.setControlSteps(i),this.props.onAllControlSelection(s)});D(this,"handleAllSelectionCheckbox",r=>{this.setState({allComponentChecked:r.target.checked});let n=this.state.stepTypes,a=this.state.steps,i=this.state.stepTypeObjArr;r.target.checked?(n=[],a.map(s=>{n.push(s.type)}),n=[...new Set(n)],i.map(s=>{s.isChecked=!0})):(n=[],this.props.onAllControlSelection(null),this.setState({isSimilarDisable:!0,isallchecked:!1}),this.selectAllBox.current.checked=!1,this.similarBox.current.checked=!1,this.props.setControlSteps(a),i.map(s=>{s.isChecked=!1})),this.setState({stepTypes:n.sort(),stepTypeObjArr:i})});D(this,"resetToDefault",()=>{this.clearAllfromParent(),this.setState({clearall:!0})});D(this,"handleExpandAll",()=>{this.setState({activeIndex:[]});let r=[];this.state.stepTypes.map((n,a)=>{r.push(a)}),this.setState({activeIndex:r})});D(this,"handleCollapseAll",()=>{this.setState({activeIndex:[]})});D(this,"removeChip",r=>{let n=this.state.stepTypes,a=this.state.stepTypeObjArr,i=this.state.steps,s=this.state.selectedControlsArr,o=a.findIndex(l=>l.name===r);a[o].isChecked=!1,n.map((l,c)=>{r===l&&n.splice(c,1)}),i.map(l=>{l.type===r&&(l.isChecked=!1)}),s.map((l,c)=>{l.type===r&&(s=s.filter(d=>d.type!==r))}),this.selectAllBox.current.checked=!1,this.similarBox.current.checked=!1,this.setState({stepTypeObjArr:a,allComponentChecked:!1,stepTypes:n,isSimilarDisable:!0,isallchecked:!1,steps:i,selectedControlsArr:s}),this.props.setControlSteps(i),this.props.onAllControlSelection(s)});D(this,"handleToggleView",()=>{this.setState({listView:!this.state.listView})});D(this,"highlightHotSpot",r=>{if(r.target.checked){let n=!1;this.state.steps.map(a=>{a.isHotSpot&&(this.props.setHotSpotControl(a),n=!0)}),n||(this.toastRef.current.show({severity:"info",detail:E.t("controls.hotspot-highlight-error-msg"),life:3e3}),this.hotSpotRef.current.checked=!1)}else this.props.setHotSpotControl(null)});D(this,"getHotspot",r=>{const n=De+"/application/"+this.props.appId+"/images/"+r+"/metadata";pe.get(n).then(a=>{let i=a.data.navigation;if(i!==null){let s=Object.keys(i)[0],o=this.state.steps;o.map(l=>{l.id===s&&(l.isHotSpot=!0)}),this.setState({steps:[]}),this.setState({steps:o})}}).catch(a=>{console.log(a)})});D(this,"handleHotspotCDOperation",(r,n)=>{let a=this.props.imageids[this.props.imageids.length-1];if(this.props.selection===a.id){this.toastRef.current.show({severity:"info",detail:E.t("controls.no-image-for-hotspot"),life:3e3});return}let i=this.props.imageids,s,o,l,c=this.state.steps,d,u=[],p,h,g=this.props.thumbnailImages.findIndex(b=>Object.keys(b)[0]===this.props.selection);i.map((b,y)=>{b.id===this.props.selection&&(s=b.name,o=b.id)});for(let b=0;b<this.props.thumbnailImages.length;b++)if(b>g&&this.props.thumbnailImages[b].isDisabled===!1){p=Object.keys(this.props.thumbnailImages[b])[0],l=this.props.thumbnailImages[b].name;break}if(c[n].isHotSpot)d={id:o,name:s,navigation:null},h=!1;else{if(p===void 0){this.toastRef.current.show({severity:"info",detail:E.t("controls.no-active-image-for-hotspot"),life:3e3});return}d={id:o,name:s,navigation:{[r.id]:{click:p.id}}},h=!0}u.push(d);const m=De+"/application/"+this.props.appId+"/images/metadata";pe.put(m,u,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then(()=>{c.map(b=>b.isHotSpot=!1),this.setState({steps:[]}),this.setState({steps:c}),this.hotSpotRef.current.checked=!1,this.props.setHotSpotControl(null),this.getHotspot(this.props.selection),h?(c[n].isHotSpot=!0,this.toastRef.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:E.t("controls.hotspot-create-success-msg",{nextImageName:l}),life:3e3})):this.toastRef.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:E.t("controls.hotspot-delete-success-msg"),life:3e3})}).catch(b=>{console.log(b),this.toastRef.current.show({severity:"info",summary:"Warning",detail:E.t("controls.hotspot-error-msg"),life:3e3})})});D(this,"listViewTemplate",()=>this.state.steps.map((r,n)=>{if(this.state.stepTypes.includes(r.type))return f.jsxs("div",{className:"list-ctrl-items",onMouseOver:()=>this.props.setOnhoverCoordinates(this.state.steps[n].bounds),onMouseOut:()=>this.props.setOnhoverCoordinates(null),children:[f.jsxs("label",{htmlFor:"checkbox_"+n,children:[f.jsx("input",{id:"checkbox_"+n,type:"checkbox",className:"checkbox-style",checked:this.state.steps[n].isChecked,onChange:a=>this.handleCheckbox(a,n),value:"",onKeyDown:a=>this.props.onKeyPressForAccessible(a)}),f.jsx("span",{className:"list-controlType",children:r.type})," :"," ",this.truncate(r.content)]},n),f.jsx("div",{className:"hotspotSection",children:f.jsx(Na,{handler:()=>this.handleHotspotCDOperation(r,n),index:n,controlStep:r,classNames:`${r.isHotSpot?"hotspot-active":""}`})})]})}));this.state={steps:[],minimized:!1,isallchecked:!1,selectedControlIndex:-1,ControlIndex:-1,selectedControlsArr:[],isSimilar:!1,isSimilarDisable:!0,controlType:[],visibleRight:!1,enableActions:!1,showContent:!0,setControlType:0,showDeleteDialog:!1,stepTypes:[],stepTypeObjArr:[],activeIndex:null,showControlSelection:!1,isSelectallDisable:!0,allComponentChecked:!0,scrollViewIndex:null,clearall:!1,listView:!1,isHotSpotChecked:!1,isHotspotDisable:!1,isCurrentImageActive:!1},this.stepsContainer=null,this.stepsContent=null,this.actionNames={},this.setVisibleRight=this.setVisibleRight.bind(this),this.toastRef=v.createRef(),this.selectAllBox=v.createRef(),this.similarBox=v.createRef(),this.allComponentCheckbox=v.createRef(),this.hotSpotRef=v.createRef()}componentDidMount(){this.getControls(),this.props.selection===this.props.imageids[this.props.imageids.length-1].id&&this.setState({isHotspotDisable:!0})}setActiveIndex(r){this.state.stepTypes.map((a,i)=>{r===a&&this.setIndexArray(i)})}getControls(){if(!this.props.selection)return[];const r=De+"/application/"+this.props.appId+"/images/"+this.props.selection+"/labels";pe.get(r,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Access-Control-Expose-Headers":"Etag"}}).then(n=>{this.setState({steps:n.data,selectedControlIndex:-1,ControlIndex:-1}),n.data.length>1?this.setState({isSelectallDisable:!1}):this.setState({isSelectallDisable:!0});const a=n.data;let i=[];a.map((d,u)=>{d.isChecked=!1,d.isHotSpot=!1;let p={x:d.bounds.x,y:d.bounds.y,w:d.bounds.w,h:d.bounds.h};d.bounds=p,i.push(d.type)});let s=[];i.forEach(function(d){s.indexOf(d)<0&&s.push(d)});let o=s.sort();this.setState({stepTypes:o});let l=[];o.map(d=>{let u={};u.name=d,u.isChecked=!0,l.push(u)}),this.setState({stepTypeObjArr:l}),this.setState({steps:a}),this.props.setControlSteps(a),this.getHotspot(this.props.selection);let c=this.props.thumbnailImages.find(d=>Object.keys(d)[0]===this.props.selection);c!==void 0&&c.isDisabled?this.setState({isCurrentImageActive:!1}):this.setState({isCurrentImageActive:!0})}).catch(()=>{console.log("Could not retrieve steps: "+this.props.selection)})}scrollToBottom(){this.stepsContent!==null&&(this.stepsContent.scrollTop=this.stepsContent.scrollHeight)}addStep(r,n){let a=r===Dp?" cntls-processing":"";return f.jsxs("div",{className:"cntls-step"+a,title:n,children:[f.jsx("span",{className:"cntls-step-icon",children:f.jsx("img",{src:r,alt:r})}),!this.state.minimized&&f.jsx("span",{className:"cntls-step-label",children:n})]})}groupViewTemplate(){return f.jsx(es,{multiple:!0,activeIndex:this.state.activeIndex,onTabChange:r=>this.setState({activeIndex:r.index}),pt:{root:{role:"tablist"}},children:this.state.stepTypes.map((r,n)=>f.jsx(Qi,{header:r,children:this.state.steps.map((a,i)=>{if(a.type===r)return f.jsxs("div",{className:"ctrl-items",onMouseOver:()=>this.props.setOnhoverCoordinates(this.state.steps[i].bounds),onMouseOut:()=>this.props.setOnhoverCoordinates(null),children:[f.jsxs("label",{htmlFor:"checkbox_"+i,children:[f.jsx("input",{id:"checkbox_"+i,type:"checkbox",className:"checkbox-style",checked:this.state.steps[i].isChecked,onChange:s=>this.handleCheckbox(s,i),value:"",onKeyDown:s=>this.props.onKeyPressForAccessible(s)}),this.truncate(a.content)]},i),f.jsx("div",{className:"hotspotSection",children:f.jsx(Na,{handler:()=>this.handleHotspotCDOperation(a,i),index:i,controlStep:a,classNames:`${a.isHotSpot?"hotspot-active":""}`})})]},i)})},n))})}render(){let r=this.state.minimized?" cntls-minimized":"";return f.jsx("div",{className:"cntls",children:f.jsxs("div",{className:"cntls-container"+r,ref:n=>this.stepsContainer=n,style:{visibility:this.state.isCurrentImageActive?"visible":"hidden"},children:[f.jsxs("div",{className:"cntrl-header",children:[f.jsxs("div",{className:"d-flex cntrl-header-items",children:[f.jsxs("span",{tabIndex:"0",onClick:this.toggleTypeSection,className:"typeSectionToggle",onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:[E.t("controls.select-component"),f.jsx("i",{className:"pi pi-chevron-down",style:{fontSize:"10px",paddingLeft:"5px"}})]}),this.state.showControlSelection&&f.jsxs("div",{className:"selectComponentDiv",children:[f.jsx("span",{className:"cancelFIlterComponents",tabIndex:"0",onKeyDown:n=>this.props.onKeyPressForAccessible(n),onClick:this.cancelTypeSection,children:f.jsx("i",{className:"pi pi-times",style:{fontSize:"12px"}})}),this.state.steps.length>1&&f.jsxs("p",{children:[f.jsx("input",{type:"checkbox",name:"checkbox",className:"component-checkbox",id:"selectAllComponent",value:"All",checked:this.state.allComponentChecked,ref:this.allComponentCheckbox,onChange:n=>this.handleAllSelectionCheckbox(n),tabIndex:"0",onKeyDown:n=>this.props.onKeyPressForAccessible(n)}),f.jsx("label",{htmlFor:"selectAllComponent",className:"component-label",children:"All"})]}),this.state.stepTypeObjArr.map((n,a)=>f.jsxs("p",{children:[f.jsx("input",{type:"checkbox",name:"checkbox",className:"component-checkbox",id:a,value:n.name,checked:n.isChecked,onChange:i=>this.handleTypeSelectionCheckbox(i),tabIndex:"0",onKeyDown:i=>this.props.onKeyPressForAccessible(i)}),f.jsx("label",{htmlFor:a,className:"component-label",children:n.name})]},a))]}),f.jsxs("div",{style:{marginLeft:"auto"},children:[f.jsx("div",{className:"item",children:f.jsx("a",{href:"#",className:"toggle-view",title:E.t("controls.toggle-view"),onClick:this.handleToggleView,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:f.jsx("i",{className:"pi pi-list actions"})})}),f.jsx("div",{className:"item",children:f.jsx("a",{href:"#",className:"add",title:E.t("controls.add-control"),onClick:this.addControlEnable,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:f.jsx("i",{className:"pi pi-plus-circle actions"})})}),f.jsx("div",{className:"item",children:f.jsx("a",{href:"#",className:"update "+(this.state.enableActions?"":"disabled"),title:E.t("controls.edit-control"),onClick:this.updateControlDetails,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:f.jsx("i",{className:"pi pi-pencil actions"})})}),f.jsxs("div",{className:"item",children:[f.jsx(St,{ref:this.toastRef}),f.jsx(Pn,{visible:this.state.showDeleteDialog,onHide:()=>this.showDeleteDialogWidget(!1),message:E.t("controls.delete-confirm-msg"),header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:this.handelDeleteChange,reject:this.rejectDelete}),f.jsx("a",{href:"#",className:"delete "+(this.state.enableActions?"":"disabled"),title:E.t("controls.delete-control"),onClick:()=>this.showDeleteDialogWidget(!0),onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:f.jsx("i",{className:"pi pi-trash actions"})})]})]})]}),f.jsxs("div",{className:"d-flex cntrl-header-items",children:[f.jsxs("div",{className:"item",children:[f.jsx("input",{type:"checkbox",className:"checkbox-style",name:"Id",id:"selectAll",onChange:this.allClick,defaultChecked:this.state.isallchecked,ref:this.selectAllBox,disabled:this.state.isSelectallDisable,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),"aria-label":"select all"}),f.jsx("span",{className:"caption",children:E.t("controls.select-all")})]}),f.jsxs("div",{className:"item",children:[f.jsx("input",{type:"checkbox",className:"checkbox-style",id:"similar",onChange:this.handleViewSimilar,disabled:this.state.isSimilarDisable,defaultChecked:this.state.isSimilar,ref:this.similarBox,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),"aria-label":"similar"}),f.jsx("span",{className:"caption",children:E.t("controls.similar")})]}),f.jsxs("div",{className:"item",children:[f.jsx("input",{type:"checkbox",className:"checkbox-style",id:"hotSpot",defaultChecked:this.state.isHotSpotChecked,onChange:n=>this.highlightHotSpot(n),ref:this.hotSpotRef,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),"aria-label":"hotspot",disabled:this.state.isHotspotDisable}),f.jsx("span",{className:"caption",children:E.t("controls.hotspot")})]}),f.jsx("div",{className:"item clear-link",children:f.jsx("span",{className:"clear "+(this.state.enableActions?"":"disabled"),title:E.t("controls.clear-all-checkbox"),onClick:this.resetToDefault,disabled:this.state.clearall,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:E.t("controls.clear")})})]}),this.state.stepTypes.length>0&&!this.state.listView&&f.jsxs("div",{className:"d-flex cntrl-header-items",children:[f.jsx("span",{className:"accordion-expand-link",onClick:this.handleExpandAll,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:E.t("controls.expand-all")}),f.jsx("span",{className:"accordion-collapse-link",onClick:this.handleCollapseAll,tabIndex:0,onKeyDown:n=>this.props.onKeyPressForAccessible(n),children:E.t("controls.collapse-all")})]})]}),f.jsx("div",{className:"cntls-content",children:f.jsxs("div",{className:"cntrol-steps"+r,ref:n=>this.stepsContent=n,children:[f.jsx(Jr,{visible:this.state.visibleRight,position:"right",onHide:()=>this.setVisibleRight(!1),children:f.jsx("div",{className:"control-details-section",children:f.jsx(kp,{type:this.state.setControlType,content:this.props.getcontent,confidence:this.props.getconfidence,x:this.props.getx,y:this.props.gety,h:this.props.geth,w:this.props.getw,control:this.props,handleControlnameChange:this.props.handleControlnameChange,handleContentChange:this.props.handleContentChange,handleConfidenceChange:this.props.handleConfidenceChange,handleX_CordinateChange:this.props.handleX_CordinateChange,handleY_CordinateChange:this.props.handleY_CordinateChange,handleW_CordinateChange:this.props.handleW_CordinateChange,handleH_CordinateChange:this.props.handleH_CordinateChange,setControlName:this.props.setControlName,isSimilarControl:this.props.isSimilarControl,selectedControlArr:this.state.selectedControlsArr,showContent:this.state.showContent,completeControl:this.props,saveChanges:this.handleUpdate})})}),this.state.steps.length>0&&(this.state.listView?this.listViewTemplate():this.groupViewTemplate())]})})]})})}}class $p extends v.Component{constructor(r){super(r);D(this,"updateStateArr",(r,n)=>{this.state.selectedControlArr.length>0&&!n?this.setState({selectedControlArr:[...this.state.selectedControlArr,r]}):this.setState({selectedControlArr:[r]})});D(this,"requestImageIds",r=>{let n=Ke+"/application/"+this.props.appId+"/images",a=setInterval(()=>{ms(n).then(i=>{if(this.setState({selectedId:i.data[this.state.imageFocusPoint].id,selectedImageName:i.data[this.state.imageFocusPoint].name}),i.data.every(o=>o.status==="completed")){clearInterval(a),this.setThumbnails(i.data),this.setState({isImgProcessing:"completed"});let o=[];i.data.map(l=>{o.push(l.id),this.requestImages(l.id,l.name)}),this.setState({ids:o}),r||this.toastRef.current.show({severity:"info",detail:E.t("virtual-client.cdis-info"),life:4e3})}else{this.setState({isImgProcessing:!0});let o=i.data.length-this.state.imageFocusPoint,c=i.data.filter(d=>d.status==="completed").length-this.state.imageFocusPoint;c=Math.floor(c/o*100),this.setState({totalImages:o,processedImagesLength:c})}}).catch(function(i){this.toastRef.current.show({severity:"info",detail:i.message,life:4e3}),clearInterval(a),setTimeout(()=>{location.reload()},5e3)})},3e3)});D(this,"requestImages",(r,n)=>{this.setState({thumbnailImages:[]}),this.getDisableImage();let a=Ke+"/application/"+this.props.appId+"/images/"+r+"/screenshot";vs(a).then(i=>{if(i.data){let s={};s[r]=i.data,s.name=n,s.isDisabled=!1,this.setState({thumbnailImages:[...this.state.thumbnailImages,s]});let o=this.state.thumbnailImages,l=this.props.imageids;if(l.length===o.length){let c=[];l.map(d=>{let u=o.find(p=>Object.keys(p)[0]===d.id);u.isDisabled=!1,c.push(u)}),this.setState({thumbnailImages:[]}),this.setState({thumbnailImages:c}),this.imageFilesCopy=[]}}}).catch(function(i){console.log(i),this.toastRef.current.show({severity:"info",detail:error.message,life:4e3})})});D(this,"onImgSelection",r=>{this.setState({imageid:r,selectedId:r,selectedControlCoordinatesArr:[]}),this.clearAll(),this.state.idThumbs.map((n,a)=>{r===n.id&&this.setState({selectedImageName:n.name})})});D(this,"onAllControlSelection",r=>{this.setState({selectedControlCoordinatesArr:[]});let n=[],a=[];this.setState({selectedControlArr:[]}),r!==null&&r.map((i,s)=>(n.push(i.bounds),a.push(i),null)),this.setState({selectedControlCoordinatesArr:n}),this.setState({selectedControlArr:a})});D(this,"onControlSelect",(r,n)=>{if(r===null)this.setState({selectedControlCoordinatesArr:[],selectedControlArr:[]});else{var a=r.bounds.x,i=r.bounds.y,s=r.bounds.w,o=r.bounds.h;this.setState({x1:a}),this.setState({y1:i}),this.setState({w1:s}),this.setState({h1:o}),this.setState({id:r.id}),this.setState({type:r.type}),this.setState({content:r.content}),this.setState({confidence:r.confidence}),this.state.selectedControlCoordinatesArr.length>0&&!n?this.setState({selectedControlCoordinatesArr:[...this.state.selectedControlCoordinatesArr,r.bounds],selectedControlArr:[...this.state.selectedControlArr,r]}):this.setState({selectedControlCoordinatesArr:[r.bounds],selectedControlArr:[r]})}});D(this,"handleControlnameChange",r=>{this.setState({controlname:r.target.value})});D(this,"handleContentChange",r=>{this.setState({content:r.target.value})});D(this,"handleConfidenceChange",r=>{this.setState({confidence:r.target.value})});D(this,"handleX_CordinateChange",r=>{this.setState({x1:r.target.value})});D(this,"handleY_CordinateChange",r=>{this.setState({y1:r.target.value})});D(this,"handleW_CordinateChange",r=>{this.setState({w1:r.target.value})});D(this,"handleH_CordinateChange",r=>{this.setState({h1:r.target.value})});D(this,"setControlName",r=>{this.setState({name:r.target.value})});D(this,"setControlSteps",r=>{this.setState({controlSteps:r})});D(this,"setThumbnails",r=>{this.setState({idThumbs:r})});D(this,"setSimilar",r=>{this.setState({isSimilarControl:r})});D(this,"setAppState",()=>{this.props.setDesignStatetoparent(!0)});D(this,"setEnableCrop",r=>{this.setState({addControl:r})});D(this,"setOnhoverCoordinates",r=>{r!==null?this.setState({onHoverControlCoordinates:{x:r.x,y:r.y,w:r.w,h:r.h}}):this.setState({onHoverControlCoordinates:{x:0,y:0,w:0,h:0}})});D(this,"handleHotspotOnImageDelete",r=>{let n=this.state.allImageHotSpotDetails;r.map(a=>{n.map((i,s)=>{if(i.navigation!==null&&Object.values(Object.values(i.navigation)[0])[0]===a){let o=n[s+2],l;if(o!==void 0){let d=Object.keys(i.navigation)[0];l=[{id:i.id,name:i.name,navigation:{[d]:{click:o.id}}}]}else l=[{id:i.id,name:i.name,navigation:null}];const c=Ke+"/application/"+this.props.appId+"/images/metadata";pe.put(c,l,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then(()=>{this.toastRef.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:E.t("controls.hotspot-updated-successfully"),life:3e3})})}})})});D(this,"filterSelection",(r,n)=>{this.handleHotspotOnImageDelete(r);let a=this.state.thumbnailImages.filter(l=>!r.includes(Object.keys(l)[0])),i=this.state.idThumbs.filter(l=>!r.includes(l.id));this.setState({thumbnailImages:[],idThumbs:[]}),this.setState({thumbnailImages:a,idThumbs:i});let s=[];i.map(l=>{s.push(l.id)}),this.setState({ids:[]}),this.setState({ids:s}),this.state.thumbnailImages.length===0?this.props.setDesignStatetoparent(!0):this.onImgSelection(s[0]);let o;r.length===1?o=E.t("device-toolbar.delete-success-msg",{imagename:n}):o=E.t("device-toolbar.delete-success-msg-multiple"),this.toastRef.current&&this.toastRef.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:o,life:3e3})});D(this,"clearAll",()=>{this.controlRef.current.clearAllfromParent()});D(this,"refreshControlLabels",()=>{this.controlRef.current.getControls()});D(this,"setImageObjArr",r=>{this.setState({thumbnailImages:r})});D(this,"setRegionFrom",r=>{this.setEnableCrop(!0),this.setState({selectRegionFrom:r})});D(this,"setDragComplete",r=>{this.setState({dragComplete:r})});D(this,"onKeyPressForAccessible",r=>{r.key==="Enter"&&r.target.click()});D(this,"dialogWidget",r=>{this.setState({showConfirmDialog:r})});D(this,"setHotSpotControl",r=>{this.setState({hotSpotControl:r})});D(this,"getDisableImage",()=>{const r=Ke+"/application/"+this.props.appId+"/images/metadata";pe.get(r).then(n=>{let a=n.data;this.setState({imageMetadata:n.data});let i=this.state.idThumbs;if(i.length===a.length){let l=[],c=[];i.map(d=>{let u=a.find(h=>h.id===d.id);l.push(u);let p={};p[d.id]=null,c.push(p)}),this.setState({allImageHotSpotDetails:[],allImageHotSpotIds:[]}),this.setState({allImageHotSpotDetails:l,allImageHotSpotIds:c})}let s=this.state.thumbnailImages;s.map(l=>{n.data.map(c=>{Object.keys(l)[0]===c.id&&(l.isDisabled=c.enabled===!1,this.setState({enableLink:!0}))})}),this.setImageObjArr(s),s.every(l=>l.isDisabled===!0)?this.setState({isAllImagesDisabled:!0}):this.setState({isAllImagesDisabled:!1})}).catch(n=>{console.log(n)})});D(this,"handleMinimizeView",()=>{this.setState({minimizeThumbnails:!this.state.minimizeThumbnails})});D(this,"handleThumbnailToggleStatusService",async(r,n)=>{const a=`${Ke}/application/${this.props.appId}/images/metadata`;try{let i=[],s={};s.id=r,s.enabled=n;let o=this.state.thumbnailImages.find(c=>Object.keys(c)[0]===r);s.name=o.name,i.push(s),await pe.put(a,i,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}),await this.getDisableImage();let l=n===!0?E.t("virtual-client.image-enabled-success-msg"):E.t("virtual-client.image-disabled-success-msg");this.toastRef.current.show({severity:"success",summary:E.t("device-toolbar.confirmed"),detail:l,life:3e3}),this.toolBarRef.current.verifyIfAnyDisabledImages()}catch(i){console.log(i)}});D(this,"handleDisableThumbnails",r=>{this.handleThumbnailToggleStatusService(r,!1);let n=this.state.thumbnailImages;n.map(a=>{Object.keys(a)[0]===r&&(a.isDisabled=!0)}),this.setState({thumbnailImages:[]}),this.setState({thumbnailImages:n,isImgDisabled:!0})});D(this,"handleEnableThumbnails",r=>{this.handleThumbnailToggleStatusService(r,!0);let n=this.state.thumbnailImages;n.map(a=>{Object.keys(a)[0]===r&&(a.isDisabled=!1)}),this.setState({thumbnailImages:[]}),this.setState({thumbnailImages:n,isImgDisabled:!1})});this.state={actionProcessing:!1,viewerVisibility:!0,isImgProcessing:"",status:"",ids:[],selectedId:null,appid:null,imageid:[],selectedControlArr:[],selectedControlCoordinatesArr:[],type:"",controlname:[],content:[],confidence:"",x1:[],y1:[],w1:[],h1:[],id:[],isSimilarControl:!1,controlSteps:[],idThumbs:[],thumbnailImages:[],addControl:!1,onHoverControlCoordinates:{x:0,y:0,w:0,h:0},selectRegionFrom:{add:!1,highlight:!1,reverseHighlight:!1},dragComplete:!1,selectedImageName:"",totalImages:0,processedImagesLength:0,imageFocusPoint:0,selectedStep:null,hotSpotControl:null,showConfirmDialog:!1,allImageHotSpotIds:[],allImageHotSpotDetails:[],minimizeThumbnails:!0,selectedThumbnails:[],isImgDisabled:!1,imageMetadata:[],isAllImagesDisabled:!1},this.imageFilesCopy=[],this.controlRef=P.createRef(),this.toastRef=P.createRef(),this.toolBarRef=P.createRef()}componentDidMount(){this.imageFilesCopy=this.props.imageFiles;let r=this.imageFilesCopy.length;if(r===0&&this.props.imageids.length===0)this.props.setDesignStatetoparent(!1);else if(r===0){let a=this.props.imageids;this.setState({selectedId:a[0].id,selectedImageName:a[0].name}),this.setThumbnails(a),this.setState({isImgProcessing:"completed"});let i=[];a.map(s=>{i.push(s.id),this.requestImages(s.id,s.name)}),this.setState({ids:i})}else{let a=Ke+"/application/"+this.props.appId+"/images";var n=new FormData;let i=this.imageFilesCopy,s=this.props.imageids.length;this.setState({imageFocusPoint:s});for(let o=0;o<=i.length-1;o++)n.append("file",i[o]);gs(a,n).then(o=>{o.data?this.requestImageIds(!0):this.requestImageIds(!1)}).catch(function(o){this.requestImageIds(!1)})}}render(){const r=n=>{let a=n*this.state.totalImages;return a=Math.round(a/100),f.jsxs("div",{className:"loader-label",children:[a," / ",f.jsxs("b",{children:[" ",this.state.totalImages," "]})," ",E.t("virtual-client.processed-loading-msg")]})};return this.state.idThumbs.length===0?f.jsx("div",{className:"card imageprocessCard",children:this.state.processedImagesLength===0?f.jsxs("div",{className:"ac-pb",children:[f.jsx("div",{className:"ac-pb-text",children:E.t("device-viewer.loader")}),f.jsx("div",{className:"ac-pb-container",children:f.jsx("div",{className:"ac-pb-content"})})]}):f.jsx(Xr,{value:this.state.processedImagesLength,displayValueTemplate:r})}):f.jsxs("div",{className:"vc",children:[f.jsx(St,{ref:this.toastRef}),f.jsx(Pn,{message:"Do you want to overwrite the existing hotspot?",icon:"pi pi-exclamation-triangle",visible:this.state.showConfirmDialog,onHide:()=>this.dialogWidget(!1),accept:()=>this.handleHotSpotService(!0,!1)}),f.jsxs("div",{className:"backLink",children:[f.jsx("i",{className:"pi pi-arrow-left home-icon",onClick:this.setAppState,tabIndex:0,onKeyDown:n=>this.onKeyPressForAccessible(n)}),f.jsx("span",{className:"app-name",children:this.props.appName})," (",f.jsx("span",{children:this.state.selectedImageName.trim()}),")"]}),f.jsxs("div",{className:"vc-container",children:[f.jsxs("div",{className:"vc-content",children:[f.jsx(Bs,{visibility:this.state.viewerVisibility,actionProcessing:this.state.actionProcessing,onIncomingScreenshot:this.onIncomingScreenshot,onControlSelect:this.onControlSelect,selection:this.state.selectedId,selectedControlCoordinatesArr:this.state.selectedControlCoordinatesArr,updateParentControlState:this.updateStateArr,getcontrolname:this.state.type,getcontent:this.state.content,getconfidence:this.state.confidence,getx:this.state.x1,gety:this.state.y1,getw:this.state.w1,geth:this.state.h1,id:this.state.id,handleControlnameChange:this.handleControlnameChange,handleContentChange:this.handleContentChange,handleConfidenceChange:this.handleConfidenceChange,handleX_CordinateChange:this.handleX_CordinateChange,handleY_CordinateChange:this.handleY_CordinateChange,handleW_CordinateChange:this.handleW_CordinateChange,handleH_CordinateChange:this.handleH_CordinateChange,setControlName:this.setControlName,isSimilarControl:this.state.isSimilarControl,appId:this.props.appId,controlSteps:this.state.controlSteps,thumbnailImages:this.state.thumbnailImages,setEnableCrop:this.setEnableCrop,addControl:this.state.addControl,setControlSteps:this.setControlSteps,clearAllControls:this.clearAll,setOnhoverCoordinates:this.setOnhoverCoordinates,onHoverControlCoordinates:this.state.onHoverControlCoordinates,onAllControlSelection:this.onAllControlSelection,onNewSelection:this.onImgSelection,selectRegionFrom:this.state.selectRegionFrom,setRegionFrom:this.setRegionFrom,enableRegionFeature:this.enableRegionFeature,setDragComplete:this.setDragComplete,dragComplete:this.state.dragComplete,refreshControlLabels:this.refreshControlLabels,hotSpotControl:this.state.hotSpotControl,minimizeThumbnails:this.state.minimizeThumbnails}),f.jsx(_r.Provider,{value:{handleDisableThumbnails:this.handleDisableThumbnails,handleEnableThumbnails:this.handleEnableThumbnails},children:f.jsx(mp,{selection:this.state.selectedId,onNewSelection:this.onImgSelection,ids:this.state.ids,appId:this.props.appId,thumbnailImages:this.state.thumbnailImages,filterSelection:this.filterSelection,imageids:this.state.idThumbs,setImageObjArr:this.setImageObjArr,selectedImageName:this.state.selectedImageName,onKeyPressForAccessible:this.onKeyPressForAccessible,imageFocusPoint:this.state.imageFocusPoint,setThumbnails:this.setThumbnails,allImageHotSpotIds:this.state.allImageHotSpotIds,allImageHotSpotDetails:this.state.allImageHotSpotDetails,minimizeThumbnails:this.state.minimizeThumbnails,handleMinimizeView:this.handleMinimizeView,isImgDisabled:this.state.isImgDisabled,ref:this.toolBarRef,getDisableImage:this.getDisableImage,isAllImagesDisabled:this.state.isAllImagesDisabled})})]}),f.jsx(Fp,{onMinimize:this.onTestStepsMinimize,selection:this.state.selectedId,onControlSelect:this.onControlSelect,onAllControlSelection:this.onAllControlSelection,getcontrolname:this.state.type,getcontent:this.state.content,getconfidence:this.state.confidence,getx:this.state.x1,gety:this.state.y1,getw:this.state.w1,geth:this.state.h1,id:this.state.id,handleControlnameChange:this.handleControlnameChange,handleContentChange:this.handleContentChange,handleConfidenceChange:this.handleConfidenceChange,handleX_CordinateChange:this.handleX_CordinateChange,handleY_CordinateChange:this.handleY_CordinateChange,handleW_CordinateChange:this.handleW_CordinateChange,handleH_CordinateChange:this.handleH_CordinateChange,setControlName:this.setControlName,setSwitch:this.setSwitch,parentSelectedControlArrState:this.state.selectedControlArr,setSimilar:this.setSimilar,appId:this.props.appId,setControlSteps:this.setControlSteps,setEnableCrop:this.setEnableCrop,ref:this.controlRef,setOnhoverCoordinates:this.setOnhoverCoordinates,selectRegionFrom:this.state.selectRegionFrom,setRegionFrom:this.setRegionFrom,enableRegionFeature:this.enableRegionFeature,onKeyPressForAccessible:n=>this.onKeyPressForAccessible(n),selectedStep:this.state.selectedStep,imageids:this.state.idThumbs,setHotSpotControl:this.setHotSpotControl,minimizeThumbnails:this.state.minimizeThumbnails,thumbnailImages:this.state.thumbnailImages,getImageMetadata:this.getDisableImage,imageMetadata:this.state.imageMetadata})]})]})}}export{$p as default};
